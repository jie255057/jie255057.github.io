<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>我誰～～～</title>
  
  
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://www.willychang.com/"/>
  <updated>2020-08-01T07:34:49.154Z</updated>
  <id>http://www.willychang.com/</id>
  
  <author>
    <name>Willy Chang</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>Rails 綠界參數</title>
    <link href="http://www.willychang.com/2020/08/01/rails-%E7%B6%A0%E7%95%8C%E5%8F%83%E6%95%B8/"/>
    <id>http://www.willychang.com/2020/08/01/rails-%E7%B6%A0%E7%95%8C%E5%8F%83%E6%95%B8/</id>
    <published>2020-08-01T07:20:41.000Z</published>
    <updated>2020-08-01T07:34:49.154Z</updated>
    
    <content type="html"><![CDATA[<p>因為自己負責的專案，所以有碰到綠界金物流，在實際操作下，才知道大家口中說到底有奪*了。</p><p>雖然都有api，但有時候卻寫的不是很明確，導致不管怎麼送，都失敗。</p><p>因為參數，有寫說要帶什麼格式，但卻沒說沒帶時需要給什麼！</p><h1 id="空值！！！-也就是空字串就可以了！！！-‘’"><a href="#空值！！！-也就是空字串就可以了！！！-‘’" class="headerlink" title="空值！！！ 也就是空字串就可以了！！！ ‘’"></a>空值！！！ 也就是空字串就可以了！！！ ‘’</h1><p>比方說: ScheduledDeliveryDate #指定到貨日<br>買家可能會想指定到貨日或者不指定。</p><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">scheduled_delivery_date</span></span></span><br><span class="line">  bill_address.arrival_date.presence <span class="params">||</span> <span class="string">''</span></span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure><p>那其實在try了很多次之下，還有寫信去問。<br>才知道可以傳帶空字串即可。</p><p>那我們通常會用 <code>present</code> 方法，再用三元運算，<br>那這邊可以使用 <code>presence</code>，雖然是做一樣的事情，但可以少寫幾個字。<br><code>presence</code>會自己檢查本身是否存在，如果存在，就會回傳自己，<br>假使不存在，則回傳|| <code>&#39;&#39;</code>回去。</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;因為自己負責的專案，所以有碰到綠界金物流，在實際操作下，才知道大家口中說到底有奪*了。&lt;/p&gt;
&lt;p&gt;雖然都有api，但有時候卻寫的不是很明確，導致不管怎麼送，都失敗。&lt;/p&gt;
&lt;p&gt;因為參數，有寫說要帶什麼格式，但卻沒說沒帶時需要給什麼！&lt;/p&gt;
&lt;h1 id=&quot;空值！！
      
    
    </summary>
    
    
    
  </entry>
  
  <entry>
    <title>Rails-super-起飛摟</title>
    <link href="http://www.willychang.com/2020/05/07/Rails-super-%E8%B5%B7%E9%A3%9B%E6%91%9F/"/>
    <id>http://www.willychang.com/2020/05/07/Rails-super-%E8%B5%B7%E9%A3%9B%E6%91%9F/</id>
    <published>2020-05-06T17:06:46.000Z</published>
    <updated>2020-05-06T17:07:21.332Z</updated>
    
    <content type="html"><![CDATA[<p>趁著還有想法的時候，趕快寫下來。<br>因為專案的關係，用到了<code>class_eval</code> and <code>super</code>。<br>相信大家對<code>super</code>不陌生，可能常看到吧。</p><p><code>super</code>是什麼呢？<br><em>It[Super] calls a method on the parent class with the same name as the method that calls super.</em><br>它是當我們想要使用一個類別(class)中的特定方法，但又想保留它父層原有同名方法裡的內容。</p><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span></span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">hi</span></span></span><br><span class="line">    p <span class="string">"哈摟"</span></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">B</span> &lt; A</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">hi</span></span></span><br><span class="line">    <span class="keyword">super</span></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line">B.new.hi</span><br><span class="line"> =&gt; <span class="string">"哈摟"</span></span><br></pre></td></tr></table></figure><p>A class裡面定義了一個<code>hi</code> method，B class繼承A class，同時B class裡面也定義了<code>hi</code>，在裡面用了super，當B class使用了<code>hi</code>方法時，也一併把B class裡的方法帶到父層A class裡的<code>hi</code> method裡執行。但上面的範例根本不用這樣做，因為既然是繼承了，它根本不用在定義一個同名方法，直接使用<code>B.new.hi</code>也會是一樣的結果。</p><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span></span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">hi</span></span></span><br><span class="line">    p <span class="string">"哈摟"</span></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">B</span> &lt; A</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">hi</span></span></span><br><span class="line">    <span class="keyword">super</span></span><br><span class="line">    p <span class="string">"大家好"</span></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">B.new.hi</span><br><span class="line">=&gt; </span><br><span class="line"><span class="string">"哈摟"</span></span><br><span class="line"><span class="string">"大家好"</span></span><br></pre></td></tr></table></figure><p>雖然範例不是很好，但我這次在B class加了”大家好”，B class <code>hi</code> method，就把它帶到父層A class <code>hi</code> method一起執行了。</p><p>那這次專案裡踩到的雷，是我們使用了<code>class_eval</code>這個method(可自行google or 我哪天會寫一篇)<br>我需要從原本的<code>index</code>繼續延伸下去，所以我以為在<code>class_eval</code>裡用<code>super</code>就能繼續在<code>index</code>寫下去。</p><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">xxxController.class_eval <span class="keyword">do</span></span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">index</span></span></span><br><span class="line">    <span class="keyword">super</span></span><br><span class="line">    <span class="comment">#以下我要執行得代碼</span></span><br><span class="line">    ...</span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure><p>但會噴<br><em>NoMethodError (super: no superclass method <code>index</code>)</em></p><p>因為這時<code>xxxController.class_eval</code>就是它自己，所以在延伸<code>index</code>時沒有super可用(除非它的父層有<code>index</code>)。<br>我用<code>ancestors</code>來看看這個<code>controller</code>的祖先們是誰，看到以下這些，感覺就沒有繼承<code>index</code>難怪會錯。<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">Spree::BaseController,</span><br><span class="line">Spree::ViewContext,</span><br><span class="line">ActionController::Base,</span><br><span class="line">Devise::OmniAuth::UrlHelpers,</span><br><span class="line">Devise::Controllers::UrlHelpers,</span><br><span class="line">Devise::Controllers::Helpers,</span><br><span class="line">Devise::Controllers::StoreLocation,</span><br><span class="line">Devise::Controllers::SignInOut,</span><br><span class="line">Turbolinks::Redirection,</span><br><span class="line">Turbolinks::Controller,</span><br><span class="line">Rollbar::Rails::ControllerMethods,</span><br><span class="line">Rollbar::RequestDataExtractor,</span><br><span class="line">ActiveRecord::Railties::ControllerRuntime,</span><br><span class="line">ActionDispatch::Routing::RouteSet::MountedHelpers,</span><br><span class="line">VersionCake::ControllerAdditions,</span><br><span class="line">ActionController::RespondWith,</span><br><span class="line">CanCan::ControllerAdditions,</span><br><span class="line">ActionController::ParamsWrapper,</span><br><span class="line">ActionController::Instrumentation,</span><br><span class="line">ActionController::Rescue</span><br></pre></td></tr></table></figure><p>這時就可以用<code>concern module</code>來<code>include</code>。就可以嘍。</p><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">module</span> <span class="title">Hello</span></span></span><br><span class="line">  extend ActiveSupport::Concern</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">index</span></span></span><br><span class="line">    <span class="keyword">super</span></span><br><span class="line">    respond_to <span class="keyword">do</span> <span class="params">|f|</span></span><br><span class="line">      f.html</span><br><span class="line">      f.xlsx <span class="keyword">do</span></span><br><span class="line">        ...</span><br><span class="line">      <span class="keyword">end</span></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span> </span><br><span class="line"></span><br><span class="line">---我是分隔線</span><br><span class="line"></span><br><span class="line">xxxController.class_eval <span class="keyword">do</span></span><br><span class="line">  <span class="keyword">include</span> Hello</span><br><span class="line">  ...</span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure><p>-W</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;趁著還有想法的時候，趕快寫下來。&lt;br&gt;因為專案的關係，用到了&lt;code&gt;class_eval&lt;/code&gt; and &lt;code&gt;super&lt;/code&gt;。&lt;br&gt;相信大家對&lt;code&gt;super&lt;/code&gt;不陌生，可能常看到吧。&lt;/p&gt;
&lt;p&gt;&lt;code&gt;super&lt;/
      
    
    </summary>
    
    
    
  </entry>
  
  <entry>
    <title>單一表格繼承與多型關聯</title>
    <link href="http://www.willychang.com/2020/05/07/%E5%96%AE%E4%B8%80%E8%A1%A8%E6%A0%BC%E7%B9%BC%E6%89%BF%E8%88%87%E5%A4%9A%E5%9E%8B%E9%97%9C%E8%81%AF/"/>
    <id>http://www.willychang.com/2020/05/07/%E5%96%AE%E4%B8%80%E8%A1%A8%E6%A0%BC%E7%B9%BC%E6%89%BF%E8%88%87%E5%A4%9A%E5%9E%8B%E9%97%9C%E8%81%AF/</id>
    <published>2020-05-06T17:05:56.000Z</published>
    <updated>2020-05-06T17:06:23.496Z</updated>
    
    <content type="html"><![CDATA[<h1 id="我要活下去"><a href="#我要活下去" class="headerlink" title="我要活下去!!!"></a><a href="#我要活下去" title="我要活下去!!!"></a>我要活下去!!!</h1><p>以前不敢問問題，到現在看到什麼就想問，根本忘了先_查資料_，再發問。</p><p>問問題前，應該先查資料，再把不了解的濃縮成人話(當然這很難！！！</p><p><strong>難的地方不是發問，而是要很讓人聽懂。</strong></p><p>以下是得到的解答，透過我的大腦，解析出的人話(？<br>或許不對，不清楚，再麻煩大家包涵或者直接幹瞧我喔^_&lt;</p><h2 id="單一表格繼承STI-Single-table-inheritance"><a href="#單一表格繼承STI-Single-table-inheritance" class="headerlink" title="單一表格繼承STI(Single-table inheritance)"></a><a href="#單一表格繼承STI-Single-table-inheritance" title="單一表格繼承STI(Single-table inheritance)"></a>單一表格繼承STI(Single-table inheritance)</h2><p><strong>如何將物件導向中的繼承概念，對應到關聯式資料庫的設計，是個大哉問。Rails內建了其中最簡單的一個解法，只用一個資料表儲存繼承體系中的物件，搭配一個<code>type</code>欄位用來指名這筆資料的類別名稱。要開啟STI功能，依照慣例只要有一個欄位叫做<code>type</code>，型態字串即可</strong></p><p>比方說：我有一個 <code>Animal Model</code>，為了要有繼承功能，我們新增 <code>type</code>這個欄位。</p><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><span class="line">2</span><span class="line">3</span><span class="line">4</span><span class="line">5</span><span class="line">6</span><span class="line">7</span></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">change</span></span></span><span class="line">  create_table <span class="symbol">:animals</span> <span class="keyword">do</span> <span class="params">|t|</span></span><span class="line">    t.string <span class="symbol">:name</span></span><span class="line">    t.string <span class="symbol">:type</span></span><span class="line">    t.timestamps <span class="symbol">null:</span> <span class="literal">false</span></span><span class="line">  <span class="keyword">end</span></span><span class="line"><span class="keyword">end</span></span></pre></td></tr></table></figure><p>那要被繼承的 Dog、Cat兩個 Model就不用在建立表格欄位了。</p><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><span class="line">2</span><span class="line">3</span><span class="line">4</span><span class="line">5</span><span class="line">6</span><span class="line">7</span><span class="line">8</span></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Animal</span> &lt; ActiveRecord::Base</span></span><span class="line"><span class="keyword">end</span></span><span class="line"></span><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Dog</span> &lt; Animal</span></span><span class="line"><span class="keyword">end</span></span><span class="line"></span><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Cat</span> &lt; Animal</span></span><span class="line"><span class="keyword">end</span></span></pre></td></tr></table></figure><p>這時候他們都繼承了Animal這個爸爸，爸爸有什麼，他們就有什麼了。<br>但缺點就是，爸爸有的，你不一定需要，但你還是得擁有那些欄位。<br>如果要關閉的話就在爸爸身上加上 <code>self.abstract_class = true</code></p><h2 id="多型關聯-Polymorphic-Associations"><a href="#多型關聯-Polymorphic-Associations" class="headerlink" title="多型關聯(Polymorphic Associations)"></a><a href="#多型關聯-Polymorphic-Associations" title="多型關聯(Polymorphic Associations)"></a>多型關聯(Polymorphic Associations)</h2><p><strong>多型關連(Polymorphic Associations)可以讓一個 Model 不一定關連到某一個特定的 Model，秘訣在於除了整數的_id外部鍵之外，再加一個字串的_type欄位說明是哪一種Model。</strong></p><p>多型關聯，當你有某種事情需求，已經有Model在做那件事情時。<br>我在其他Model，也想使用到那件事情時，我就不用在另外建立Model，來做一樣的事情了。</p><p><em>以上想用自己的話表達簡單一點，但覺得太攏統，太模糊了</em></p><p><em>以下引用文件</em></p><p>例如一個Comment model，我們可以透過多型關連讓它belongs_to到各種不同的 Model上，假設我們已經有了Article與Photo這兩個Model，然後我們希望這兩個Model都可以被留言。不用多型關連的話，你得分別建立ArticleComment和PhotoComment的model。用多型關連的話，無論有多少種需要被留言的Model，只需要一個Comment model即可：</p><p><code>rails g model comment content:text commentable_id:integer commentable_type</code></p><p>產生出</p><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><span class="line">2</span><span class="line">3</span><span class="line">4</span><span class="line">5</span><span class="line">6</span><span class="line">7</span><span class="line">8</span><span class="line">9</span><span class="line">10</span><span class="line">11</span></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">CreateComments</span> &lt; ActiveRecord::Migration[5.1]</span></span><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">change</span></span></span><span class="line">    create_table <span class="symbol">:comments</span> <span class="keyword">do</span> <span class="params">|t|</span></span><span class="line">      t.text <span class="symbol">:content</span></span><span class="line">      t.integer <span class="symbol">:commentable_id</span></span><span class="line">      t.string <span class="symbol">:commentable_type</span></span><span class="line"></span><span class="line">      t.timestamps</span><span class="line">    <span class="keyword">end</span></span><span class="line">  <span class="keyword">end</span></span><span class="line"><span class="keyword">end</span></span></pre></td></tr></table></figure><p>這個Migration檔案中，我們用content這個欄位來儲存留言的內容，commentable_id用來儲存被留言的物件的id而commentable_type則用來儲存被留言物件的種類，以這個例子來說被留言的對象就是Article與Photo這兩種Model，這個Migration檔案也可以改寫成下面這樣：</p><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><span class="line">2</span><span class="line">3</span><span class="line">4</span><span class="line">5</span><span class="line">6</span><span class="line">7</span><span class="line">8</span><span class="line">9</span><span class="line">10</span><span class="line">11</span></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">CreateComments</span> &lt; ActiveRecord::Migration[5.1]</span></span><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">change</span></span></span><span class="line">    create_table <span class="symbol">:comments</span> <span class="keyword">do</span> <span class="params">|t|</span></span><span class="line">      t.text <span class="symbol">:content</span></span><span class="line">      t.belongs_to <span class="symbol">:commentable</span>, <span class="symbol">:polymorphic</span> =&gt; <span class="literal">true</span></span><span class="line">      <span class="comment">#同時會幫你產生出[:commentable_id, :commentable_type]</span></span><span class="line"></span><span class="line">      t.timestamps</span><span class="line">    <span class="keyword">end</span></span><span class="line">  <span class="keyword">end</span></span><span class="line"><span class="keyword">end</span></span></pre></td></tr></table></figure><p>這時就必須指定關聯</p><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><span class="line">2</span><span class="line">3</span><span class="line">4</span><span class="line">5</span><span class="line">6</span><span class="line">7</span><span class="line">8</span><span class="line">9</span><span class="line">10</span><span class="line">11</span><span class="line">12</span><span class="line">13</span><span class="line">14</span></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Comment</span> &lt; ApplicationRecord</span></span><span class="line">  belongs_to <span class="symbol">:commentable</span>, <span class="symbol">:polymorphic</span> =&gt; <span class="literal">true</span></span><span class="line">                          <span class="comment">#透過true來將此關聯指定是多型關聯</span></span><span class="line"><span class="keyword">end</span></span><span class="line"></span><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Article</span> &lt; ApplicationRecord</span></span><span class="line">  has_many <span class="symbol">:comments</span>, <span class="symbol">:as</span> =&gt; <span class="symbol">:commentable</span></span><span class="line">                      <span class="comment">#我們用:as來指定 :commentable這個參數作為多型關聯的接口</span></span><span class="line">                      <span class="comment">#:as是什麼？可以看has_one or has_many API</span></span><span class="line"><span class="keyword">end</span></span><span class="line"></span><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Photo</span> &lt; ApplicationRecord</span></span><span class="line">  has_many <span class="symbol">:comments</span>, <span class="symbol">:as</span> =&gt; <span class="symbol">:commentable</span></span><span class="line"><span class="keyword">end</span></span></pre></td></tr></table></figure><p>接下來可以透過關聯來新增留言</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><span class="line">2</span><span class="line">3</span><span class="line">4</span><span class="line">5</span><span class="line">6</span><span class="line">7</span><span class="line">8</span><span class="line">9</span><span class="line">10</span><span class="line">11</span></pre></td><td class="code"><pre><span class="line">article &#x3D; Article.first</span><span class="line"></span><span class="line">#透過關連新增留言</span><span class="line">comment &#x3D; article.comments.create(:content &#x3D;&gt; &quot;First Comment&quot;)</span><span class="line"></span><span class="line">#你可以發現 Rails 很聰明的幫我們指定了被留言物件的種類和id</span><span class="line">comment.commentable_type &#x3D;&gt; &quot;Article&quot;</span><span class="line">comment.commentable_id &#x3D;&gt; 1</span><span class="line"></span><span class="line">#也可以透過 commentable 反向回查關連的物件</span><span class="line">comment.commentable &#x3D;&gt; #&lt;Article id: 1, ....&gt;</span></pre></td></tr></table></figure><p>簡單來說，我有一個留言的model了，我在文章與照片都想要可以留言，既然已經有model在做這件事了，<br>我們就使用多型關聯來連到那裡去。就不用說還需要再另外建立什麼了。</p><p>文章引用參考至：<br><a href="https://ihower.tw/rails/activerecord-relationships.html" target="_blank" rel="noopener">https://ihower.tw/rails/activerecord-relationships.html</a><br><a href="https://ihower.tw/rails/activerecord-others.html" target="_blank" rel="noopener">https://ihower.tw/rails/activerecord-others.html</a></p><p>-W</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;我要活下去&quot;&gt;&lt;a href=&quot;#我要活下去&quot; class=&quot;headerlink&quot; title=&quot;我要活下去!!!&quot;&gt;&lt;/a&gt;&lt;a href=&quot;#我要活下去&quot; title=&quot;我要活下去!!!&quot;&gt;&lt;/a&gt;我要活下去!!!&lt;/h1&gt;&lt;p&gt;以前不敢問問題，到現在看到什
      
    
    </summary>
    
    
    
  </entry>
  
  <entry>
    <title>類別是什麼？物件是什麼？</title>
    <link href="http://www.willychang.com/2020/05/07/%E9%A1%9E%E5%88%A5%E6%98%AF%E4%BB%80%E9%BA%BC%EF%BC%9F%E7%89%A9%E4%BB%B6%E6%98%AF%E4%BB%80%E9%BA%BC%EF%BC%9F/"/>
    <id>http://www.willychang.com/2020/05/07/%E9%A1%9E%E5%88%A5%E6%98%AF%E4%BB%80%E9%BA%BC%EF%BC%9F%E7%89%A9%E4%BB%B6%E6%98%AF%E4%BB%80%E9%BA%BC%EF%BC%9F/</id>
    <published>2020-05-06T17:05:12.000Z</published>
    <updated>2020-05-06T17:05:37.002Z</updated>
    
    <content type="html"><![CDATA[<p>既然是物件導向程式設計，那物件是什麼？<br>其實我覺得應該先搞懂這個。<br>趁著清明連假，先了解一些基礎，不然很多基礎搞不懂，根本只是個會寫code的人，因為我不懂它運作的原理。</p><p>類別：一張設計圖，藍圖，可以參考的文件，沒有實體的存在。<br><em>但在Ruby的世界裡，類別也是一個物件。</em><br>物件：看得到、摸得到的實體，屬於動態，但狀態隨時會改變。</p><p>在Ruby裡如何定義一個類別呢？</p><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><span class="line">2</span><span class="line">3</span></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Cat</span></span></span><span class="line">  <span class="comment">#...</span></span><span class="line"><span class="keyword">end</span></span></pre></td></tr></table></figure><p>這樣我們就定義了Cat 這個class(類別)<br>當然裡面可以定義很多methods(方法)</p><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><span class="line">2</span><span class="line">3</span><span class="line">4</span><span class="line">5</span></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Cat</span></span></span><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">eat</span><span class="params">(food)</span></span></span><span class="line">    puts <span class="string">"<span class="subst">#&#123;food&#125;</span> 好好吃！"</span></span><span class="line">  <span class="keyword">end</span></span><span class="line"><span class="keyword">end</span></span></pre></td></tr></table></figure><p>我們先定義一個 <code>eat</code> 這個方法。<br>接下來用 <code>new</code>方法來把 Cat類別創造出新的物件。</p><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><span class="line">2</span></pre></td><td class="code"><pre><span class="line">willy = Cat.new</span><span class="line">willy.eat(<span class="string">"罐頭"</span>) =&gt; 印出 [罐頭 好好吃!]</span></pre></td></tr></table></figure><p>簡單來說，為什麼說類別是一張設計圖？<br>比方要蓋一棟房子，首先需要一張設計圖(類別)<br>那你要透過<code>new</code>出設計圖的房子(物件)<br>透過這樣簡單的的比喻，就可以把類別與物件分得比較清楚。</p><p>可能比喻的不是很好，再麻煩大家給我一些指教。</p><p>-W</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;既然是物件導向程式設計，那物件是什麼？&lt;br&gt;其實我覺得應該先搞懂這個。&lt;br&gt;趁著清明連假，先了解一些基礎，不然很多基礎搞不懂，根本只是個會寫code的人，因為我不懂它運作的原理。&lt;/p&gt;
&lt;p&gt;類別：一張設計圖，藍圖，可以參考的文件，沒有實體的存在。&lt;br&gt;&lt;em&gt;但在
      
    
    </summary>
    
    
    
  </entry>
  
  <entry>
    <title>Ruby裡的字串與符號-Symbol</title>
    <link href="http://www.willychang.com/2020/05/07/Ruby%E8%A3%A1%E7%9A%84%E5%AD%97%E4%B8%B2%E8%88%87%E7%AC%A6%E8%99%9F-Symbol/"/>
    <id>http://www.willychang.com/2020/05/07/Ruby%E8%A3%A1%E7%9A%84%E5%AD%97%E4%B8%B2%E8%88%87%E7%AC%A6%E8%99%9F-Symbol/</id>
    <published>2020-05-06T17:04:08.000Z</published>
    <updated>2020-05-06T17:10:24.423Z</updated>
    
    <content type="html"><![CDATA[<p>淺談在Ruby裡的字串與符號，首先我們先看看字串的樣字</p><p>字串物件的組合是由<br><img src="https://miro.medium.com/max/988/1*Zsq3bUJJq3Vb5u2yZ1BRjA.png" alt=""><br>一個變數來指向字串物件，來形成字串物件，如果沒有指向字串這個名字(name)變數，則無法成立單獨身存。因為它是空的，沒有代表任何物件。也可以稱為String物件。</p><p>再來看看 Symbol<br><img src="https://miro.medium.com/max/1004/1*MoyMzPZYE1DCIYlc3ZCTsw.png" alt=""><br>一樣是由一個變數來指向 :name ，但這時候就不是字串物件了，而變成符號(Symbol)。</p><p>那字串與符號的不同呢？</p><p>字串是可以更改內容的，而符號_(Symbol)_是不能的!!! (以下就直接通稱符號</p><p>因為這時候符號已經變成了有名字的字串了。</p><p>就像你的名字可以更改嗎？好啦其實可以，去戶政事務所。</p><p>舉例看看：好比今天棒球的本壘板，它已經定義叫做本壘板了，不可能更改叫一壘或二壘吧。</p><p>我們也可以用.class來看這時候變數是什麼個物件類別。<br><img src="https://miro.medium.com/max/1400/1*uxSej6MER94aPyjNWOPS-g.png" alt=""><br><img src="https://miro.medium.com/max/1400/1*jDtsL5xdlQxJ4zgtyo4Rxw.png" alt=""><br>符號類別字串物件類別可以看得出來他們的類別不一樣吧 😃</p><p>當然它們也有別的不同之處，物件的ID位置(身分證字號)，我們可以用</p><p>.object_id 來查詢它們所在的ID位置。<br><img src="https://miro.medium.com/max/1400/1*SSlfrvyi36iAQChyn_eXtA.png" alt=""><br>有看到右邊一串一串的亂碼嗎？那就是willy這個字串的ID位置，每次輸入每次的位置不同，因為每次查詢都會在建立一個新字串，才會有不同的ID位置。<br><img src="https://miro.medium.com/max/1400/1*mTY9-ECbZ5VMezHX21rOLw.png" alt=""><br>但符號的ID位置是不會改變的，因為ID位置如果相同的話，表示它們都是同一個物件，這樣下次需要這個符號時，記憶體就不用在新增一份，直接從記憶體取出，相對的符號也較省記憶體空間。</p><p>字串及 符號(Symbol) 類別都有提供一些方法可以互相轉換，</p><p>我們可以用:</p><p>字串轉符號使用:to_sym</p><p>符號轉字串使用:to_s</p><p>那我們的使用時機呢？可以用在Hash裡的key:</p><p>因為它能更快的被找到。</p><p>總結：</p><p>字串與符號同樣是一個物件，但類別不同，使用方法也不同。</p><p>但我覺得符號的用途比較像是更明確的表現物件給人的意思，</p><p>因為它的內容是不可以改變的！！！</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;淺談在Ruby裡的字串與符號，首先我們先看看字串的樣字&lt;/p&gt;
&lt;p&gt;字串物件的組合是由&lt;br&gt;&lt;img src=&quot;https://miro.medium.com/max/988/1*Zsq3bUJJq3Vb5u2yZ1BRjA.png&quot; alt=&quot;&quot;&gt;&lt;br&gt;一個變數來指
      
    
    </summary>
    
    
    
  </entry>
  
  <entry>
    <title>Rails-追code-小技巧</title>
    <link href="http://www.willychang.com/2020/05/07/Rails-%E8%BF%BDcode-%E5%B0%8F%E6%8A%80%E5%B7%A7/"/>
    <id>http://www.willychang.com/2020/05/07/Rails-%E8%BF%BDcode-%E5%B0%8F%E6%8A%80%E5%B7%A7/</id>
    <published>2020-05-06T17:02:24.000Z</published>
    <updated>2020-05-06T17:03:27.579Z</updated>
    
    <content type="html"><![CDATA[<p>是不是有時候覺得，幹這方法到底在哪裡？到底是幹嘛的？然後這個object到底有哪些方法可以用？滿頭問好？？？本人正是如此</p><p>今天假設我們有一個 Cat class，裡面有兩個methods，當然可能更多。</p><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><span class="line">2</span><span class="line">3</span><span class="line">4</span><span class="line">5</span><span class="line">6</span><span class="line">7</span></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Cat</span></span></span><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">run</span></span></span><span class="line">  <span class="keyword">end</span></span><span class="line">  </span><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">eat</span></span></span><span class="line">  <span class="keyword">end</span></span><span class="line"><span class="keyword">end</span></span></pre></td></tr></table></figure><p>那我們可以用 Cat.new.methods，在consolo裡面查這個class裡，到底有哪些方法</p><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><span class="line">2</span></pre></td><td class="code"><pre><span class="line">Cat.new.methods</span><span class="line"> =&gt; [<span class="symbol">:run</span>, <span class="symbol">:eat</span>, <span class="symbol">:instance_variable_set</span>, <span class="symbol">:instance_variable_defined?</span>, <span class="symbol">:remove_instance_variable</span>, <span class="symbol">:instance_of?</span>, <span class="symbol">:kind_of?</span>, <span class="symbol">:is_a?</span>, <span class="symbol">:tap</span>, <span class="symbol">:instance_variable_get</span>, <span class="symbol">:public_methods</span>, <span class="symbol">:instance_variables</span>, <span class="symbol">:method</span>, <span class="symbol">:public_method</span>, <span class="symbol">:define_singleton_method</span>, <span class="symbol">:public_send</span>, <span class="symbol">:singleton_method</span>, <span class="symbol">:extend</span>, <span class="symbol">:pp</span>, <span class="symbol">:to_enum</span>, <span class="symbol">:enum_for</span>, <span class="symbol">:&lt;=&gt;</span>, <span class="symbol">:===</span>, <span class="symbol">:=~</span>, <span class="symbol">:</span>!~, <span class="symbol">:eql?</span>, <span class="symbol">:respond_to?</span>, <span class="symbol">:freeze</span>, <span class="symbol">:inspect</span>, <span class="symbol">:object_id</span>, <span class="symbol">:send</span>, <span class="symbol">:to_s</span>, <span class="symbol">:display</span>, <span class="symbol">:nil?</span>, <span class="symbol">:hash</span>, <span class="symbol">:class</span>, <span class="symbol">:singleton_class</span>, <span class="symbol">:clone</span>, <span class="symbol">:itself</span>, <span class="symbol">:dup</span>, <span class="symbol">:taint</span>, <span class="symbol">:yield_self</span>, <span class="symbol">:untaint</span>, <span class="symbol">:tainted?</span>, <span class="symbol">:untrusted?</span>, <span class="symbol">:untrust</span>, <span class="symbol">:frozen?</span>, <span class="symbol">:trust</span>, <span class="symbol">:methods</span>, <span class="symbol">:singleton_methods</span>, <span class="symbol">:protected_methods</span>, <span class="symbol">:private_methods</span>, <span class="symbol">:</span>!, <span class="symbol">:equal?</span>, <span class="symbol">:instance_eval</span>, <span class="symbol">:==</span>, <span class="symbol">:instance_exec</span>, <span class="symbol">:</span>!=, <span class="symbol">:__id__</span>, <span class="symbol">:__send__</span>]</span></pre></td></tr></table></figure><p>有看到前面兩個method嗎？是我們自己定義的method，也看到了這個calss繼承的所有的method。</p><p>那我只想看只定義在這個calss裡的method呢？</p><p>可以用 Cat.new.methods - Object.new.methods</p><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">Cat.new.methods - Object.new.methods</span></pre></td></tr></table></figure><p>那有些幫你做好的method，它的原始碼在哪裡？想看它是怎麼做的</p><p>這時候我們就可以用Rails 的小技巧</p><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><span class="line">2</span><span class="line">3</span><span class="line">4</span><span class="line">5</span><span class="line">6</span><span class="line">7</span></pre></td><td class="code"><pre><span class="line">cat = Cat.new </span><span class="line"></span><span class="line">cat.method(<span class="symbol">:run</span>)</span><span class="line"><span class="comment"># =&gt; #&lt;Method: cat#run&gt;</span></span><span class="line"></span><span class="line">cat.method(<span class="symbol">:run</span>).source_location</span><span class="line"><span class="comment"># =&gt; ["cat.rb", 1]</span></span></pre></td></tr></table></figure><p>這樣追，一直追追追，追到天涯海角吧～～～</p><p><a href="https://www.spreered.com/learn-rail-by-ruby/" target="_blank" rel="noopener">https://www.spreered.com/learn-rail-by-ruby/</a><br>本篇參考以上文章</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;是不是有時候覺得，幹這方法到底在哪裡？到底是幹嘛的？然後這個object到底有哪些方法可以用？滿頭問好？？？本人正是如此&lt;/p&gt;
&lt;p&gt;今天假設我們有一個 Cat class，裡面有兩個methods，當然可能更多。&lt;/p&gt;
&lt;figure class=&quot;highlight
      
    
    </summary>
    
    
    
  </entry>
  
  <entry>
    <title>Heroku-Application-error解決</title>
    <link href="http://www.willychang.com/2020/05/07/Heroku-Application-error%E8%A7%A3%E6%B1%BA/"/>
    <id>http://www.willychang.com/2020/05/07/Heroku-Application-error%E8%A7%A3%E6%B1%BA/</id>
    <published>2020-05-06T17:01:11.000Z</published>
    <updated>2020-05-06T17:01:47.820Z</updated>
    
    <content type="html"><![CDATA[<p><img src="https://miro.medium.com/max/1400/1*l2kUD9UHZDBqDir9mLqOSQ.png" alt=""><br>因為把第一個專案要推上Heroku，滿心期待第一個作品可以上線，看著其他同學都有畫面，我卻跑這他額娘的Application error畫面，真是讓人難過。</p><p>於是就透過 <code>heroku logs - tail</code> 這段指令，看到了以下畫面</p><p><img src="https://miro.medium.com/max/560/1*lKzMg6p58XUGUeqMoJe9Kw.png" alt=""></p><p>他等待了60秒的PROT，但都沒有收到，後來才發現，因為專案裡的Profile已經寫死了 3000。</p><p><code>web: bin/rails server -p 3000</code></p><p>改成</p><p><code>web: bin/rails server -p $PORT</code></p><p>可能是因為Heroku不能指定PROT的關係。</p><p>如果你的問題也跟我一樣，可以嘗試看看這個方法。</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;&lt;img src=&quot;https://miro.medium.com/max/1400/1*l2kUD9UHZDBqDir9mLqOSQ.png&quot; alt=&quot;&quot;&gt;&lt;br&gt;因為把第一個專案要推上Heroku，滿心期待第一個作品可以上線，看著其他同學都有畫面，我卻跑這他額娘的Ap
      
    
    </summary>
    
    
    
  </entry>
  
  <entry>
    <title>Git 是什麼</title>
    <link href="http://www.willychang.com/2020/05/07/Git-%E6%98%AF%E4%BB%80%E9%BA%BC/"/>
    <id>http://www.willychang.com/2020/05/07/Git-%E6%98%AF%E4%BB%80%E9%BA%BC/</id>
    <published>2020-05-06T16:59:50.000Z</published>
    <updated>2020-05-06T17:00:16.161Z</updated>
    
    <content type="html"><![CDATA[<p>git是什麼？版本控制？對於第一次聽到的我，版本控制是啥？</p><p>沒錯，就是這樣，版本控制我連語意都不懂，但其實用來很方便也不簡單(誤</p><p>應該說要用的很熟透，真的必須練習加上實作。</p><p>那它到底是什麼呢？其實可以把它想成玩遊戲在存檔，把你的文件存檔，然後推到GitHub(Git跟GitHub不一樣)，你應該可以想像，當<br>你要改檔案，但又怕改下去爆掉，是不是都會拷貝一份，當你爆了在拷貝一份就好了，很方便對吧，當你回過神時，你已經拷貝了20份了。</p><p>這時候Git的好處就來了，你存檔了，push上去了，改壞了，在clone下來就好了，而且每次修改的紀錄，都會被存進去，可以看出來這<br>段code跟上段哪裡有不一樣。</p><p>難嗎？只要會add , commit , push 就好了啊，但當你想合併分支，刪除分支 ，這些指令也是必須記一下的。<br><img src="https://pic1.xuehuaimg.com/proxy/csdn/https://img-blog.csdnimg.cn/20181205192850247.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3UwMTAzMTQxNjA=,size_16,color_FFFFFF,t_70" alt=""><br>上面的說明，很清楚，用講的用背的，不如實際操作看看。</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;git是什麼？版本控制？對於第一次聽到的我，版本控制是啥？&lt;/p&gt;
&lt;p&gt;沒錯，就是這樣，版本控制我連語意都不懂，但其實用來很方便也不簡單(誤&lt;/p&gt;
&lt;p&gt;應該說要用的很熟透，真的必須練習加上實作。&lt;/p&gt;
&lt;p&gt;那它到底是什麼呢？其實可以把它想成玩遊戲在存檔，把你的文件
      
    
    </summary>
    
    
    
  </entry>
  
  <entry>
    <title>搭起來啦啦啦</title>
    <link href="http://www.willychang.com/2020/05/07/%E6%90%AD%E8%B5%B7%E4%BE%86%E5%95%A6%E5%95%A6%E5%95%A6/"/>
    <id>http://www.willychang.com/2020/05/07/%E6%90%AD%E8%B5%B7%E4%BE%86%E5%95%A6%E5%95%A6%E5%95%A6/</id>
    <published>2020-05-06T16:55:39.000Z</published>
    <updated>2020-05-06T16:58:37.830Z</updated>
    
    <content type="html"><![CDATA[<p>趁著清明連假，又加上剛好疫情的關係，沒有去掃墓。</p><p><em>又加上現在人家說去掃墓，只是更早跟墓裡的團員。</em></p><p>所以趕快搭起來，不然我的電腦裡有好幾個blog檔案，根本都跟新的一樣ＸＤ</p><p>這次用Hexo來搭配GitHub Pages，雖然在裝Hexo的時候花了一些時間，</p><p>因為Hexo的檔案位置不對，所以不管怎樣我下 <code>hexo init</code></p><p>都得到 <code>zsh: command not found: hexo</code></p><p>最後解決辦法是</p><p>#刪除安裝<br><code>yarn global remove hexo-cli</code><br>#重新安裝<br><code>yarn global add hexo-cli --prefix /usr/local</code></p><p>之後再執行 hexo 就有了。</p><p>一直都很想搭部落格起來，加上開始工作的原因(根本不是藉口)<br>遲遲還沒動手，但發上實在有太多需要寫下來的。</p><p>畢竟能用別人看得懂的話說明出來，都是經過腦子思考的，<br>雖然問問題很難，但我依舊持續學習中啦啦啦啦啦</p><p>-W</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;趁著清明連假，又加上剛好疫情的關係，沒有去掃墓。&lt;/p&gt;
&lt;p&gt;&lt;em&gt;又加上現在人家說去掃墓，只是更早跟墓裡的團員。&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;所以趕快搭起來，不然我的電腦裡有好幾個blog檔案，根本都跟新的一樣ＸＤ&lt;/p&gt;
&lt;p&gt;這次用Hexo來搭配GitHub Page
      
    
    </summary>
    
    
    
  </entry>
  
</feed>
