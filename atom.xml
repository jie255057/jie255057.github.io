<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>æˆ‘èª°ï½ï½ï½</title>
  
  
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://www.willychang.com/"/>
  <updated>2020-09-06T05:51:39.227Z</updated>
  <id>http://www.willychang.com/</id>
  
  <author>
    <name>Willy Chang</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>Ruby on Rails Hash and HashWithIndifferentAccess</title>
    <link href="http://www.willychang.com/2020/09/06/Ruby-on-Rails-Hash-and-HashWithIndifferentAccess/"/>
    <id>http://www.willychang.com/2020/09/06/Ruby-on-Rails-Hash-and-HashWithIndifferentAccess/</id>
    <published>2020-09-06T05:43:17.000Z</published>
    <updated>2020-09-06T05:51:39.227Z</updated>
    
    <content type="html"><![CDATA[<p>æœ‰æ™‚å€™æˆ‘å€‘åœ¨ <code>Hash</code> ä¸­è¦æ‹¿å– :key æ™‚, æˆ‘å€‘å¯èƒ½æœƒç”¨ <code>sample</code> or <code>string</code><br>ä½†æˆ‘å€‘ç”¨ <code>string</code> å»æœƒæ‹¿åˆ° <code>nil</code></p><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">a = &#123; <span class="symbol">a:</span> <span class="number">123</span> &#125;</span><br><span class="line">a[<span class="symbol">:a</span>] -&gt; <span class="number">123</span></span><br><span class="line">a[<span class="string">'a'</span>] -&gt; <span class="literal">nil</span></span><br></pre></td></tr></table></figure><p>ä½†ç‚ºä»€éº¼åœ¨ <code>Rails</code> çš„æ™‚å€™å»å¯ä»¥ï¼Ÿ<br>å› ç‚º <code>Rails</code> çš„ ActiveSupport::HashWithIndifferentAccess å¹«äº†å¤§å¿™<br>è®“é–‹ç™¼è€…å¯ä»¥åŒæ™‚ä½¿ç”¨ <code>sample</code> è·Ÿ <code>string</code> ä¾†æ‹¿å– :keyã€‚</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;æœ‰æ™‚å€™æˆ‘å€‘åœ¨ &lt;code&gt;Hash&lt;/code&gt; ä¸­è¦æ‹¿å– :key æ™‚, æˆ‘å€‘å¯èƒ½æœƒç”¨ &lt;code&gt;sample&lt;/code&gt; or &lt;code&gt;string&lt;/code&gt;&lt;br&gt;ä½†æˆ‘å€‘ç”¨ &lt;code&gt;string&lt;/code&gt; å»æœƒæ‹¿åˆ° &lt;code&gt;nil&lt;/code&gt;
      
    
    </summary>
    
    
    
  </entry>
  
  <entry>
    <title>Rails Capybara</title>
    <link href="http://www.willychang.com/2020/09/03/Rails-Capybara/"/>
    <id>http://www.willychang.com/2020/09/03/Rails-Capybara/</id>
    <published>2020-09-03T08:42:58.000Z</published>
    <updated>2020-09-03T08:56:37.955Z</updated>
    
    <content type="html"><![CDATA[<p>Rails Capybara é€™å€‹ gem, ç›¸ä¿¡å¾ˆå¤šäººéƒ½æ˜¯æ‹¿ä¾†åš test,<br>æˆ‘åŸæœ¬ä¹Ÿæ˜¯é€™éº¼æƒ³, ä½†åŸºæ–¼æŸæ¬¡ä¸»ç®¡æŠŠå®ƒæ‹¿ä¾†åšåˆ¥çš„äº‹æƒ…å¾Œ, æˆ‘æ”¹è§€äº†, æœç„¶ç¶“é©—å¾ˆé‡è¦ï¼ï¼ï¼</p><p>æŸæ¬¡å› ç‚ºè¦æ‰¹æ¬¡åˆ—å° c2c åº—åˆ°åº—çš„ç‰©æµå–®, ä½†ç¶ ç•Œæ²’æœ‰é€™å€‹ api å•Šå•Šå•Š<br>ä½†å®¢æˆ¶åˆæœ‰é€™å€‹éœ€æ±‚, é€™æ™‚æ±‚æ•‘æ–¼ä¸»ç®¡, ä¸€èªé»é†’å¤¢ä¸­äºº<br>å°±ç”¨ Capybara çš„ browser ä¾†å¹«ä½ è‡ªå‹•æŒ‰å°±å¥½äº†ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">gem &#39;capybara&#39;</span><br><span class="line">gem &#39;selenium-webdriver&#39;</span><br><span class="line">gem &#39;capybara-screenshot&#39;</span><br><span class="line">gem &quot;cuprite&quot;</span><br></pre></td></tr></table></figure><p>ä¹‹å¾Œæˆ‘å¯«äº†ä¸€å€‹ <code>service</code> ä¾†åŸ·è¡Œ</p><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">require</span> <span class="string">'capybara'</span></span><br><span class="line"><span class="keyword">require</span> <span class="string">'selenium-webdriver'</span></span><br><span class="line"><span class="keyword">require</span> <span class="string">'capybara-screenshot'</span></span><br><span class="line"><span class="keyword">require</span> <span class="string">'capybara/cuprite'</span></span><br></pre></td></tr></table></figure><p>æ¥ä¸‹ä¾†å°±æ˜¯ä¸€äº›åŸºæœ¬è¨­å®š</p><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#ç¤™æ–¼æ¯å€‹äººçš„è¨­å®šä¸åŒ, æ‰€ä»¥ä¹Ÿä¸ä¸€å®šæœƒä¸€æ¨£</span></span><br><span class="line">Capybara.javascript_driver = <span class="symbol">:cuprite</span></span><br><span class="line">Capybara.default_driver = <span class="symbol">:selenium</span></span><br><span class="line">Capybara.default_max_wait_time = <span class="number">7</span></span><br><span class="line">Capybara.app_host = <span class="string">"<span class="subst">#&#123;Settings.default_url_options.protocol&#125;</span>://"</span> + Settings.default_url_options.host.to_s</span><br><span class="line">Capybara.run_server = <span class="literal">true</span></span><br><span class="line">Capybara.register_driver <span class="symbol">:cuprite</span> <span class="keyword">do</span> <span class="params">|app|</span></span><br><span class="line">  options = &#123; <span class="symbol">window_size:</span> [<span class="number">1024</span>, <span class="number">768</span>], <span class="symbol">headless:</span> <span class="literal">true</span>, <span class="symbol">timeout:</span> <span class="number">120</span>, <span class="symbol">process_timeout:</span> <span class="number">120</span>, <span class="symbol">browser_options:</span> &#123; <span class="string">'no-sandbox'</span>: <span class="literal">nil</span> &#125; &#125;</span><br><span class="line">  Capybara::Cuprite::Driver.new(app, options)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line">@session = Capybara::Session.new(<span class="symbol">:cuprite</span>)</span><br><span class="line">@session.driver.add_headers(&#123; <span class="string">'User-Agent'</span> =&gt; <span class="string">'Cuprite'</span>, <span class="string">'Accept-Language'</span> =&gt; <span class="string">'zh-tw'</span> &#125;)</span><br></pre></td></tr></table></figure><p>é‚£å…¶å¯¦æ¥ä¸‹ä¾†å°±æ˜¯è¡Œç‚ºè§¸ç™¼, å¥½æ¯”åƒåœ¨å¯«æ¸¬è©¦ä¸€æ¨£, æ ¹æ“šä½ çš„éœ€æ±‚å»åŸ·è¡Œ.</p><p>ä½†å°±æ˜¯æƒ³èªª, æœ‰æ™‚å€™å¦‚æœæŠŠä¸€å€‹æ±è¥¿å®šç¾©äº†ä¸Šäº†æ¨™ç±¤, å°±å¥½åƒåˆ»æ¿å°è±¡ä¸€æ¨£,<br>ä½†å…¶å¯¦å¯ä»¥ç™¼æ®çš„ä½œç”¨ä¹Ÿæ˜¯å¾ˆå¤š, é€™æ˜¯åœ¨æé†’è‡ªå·±ã€‚</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;Rails Capybara é€™å€‹ gem, ç›¸ä¿¡å¾ˆå¤šäººéƒ½æ˜¯æ‹¿ä¾†åš test,&lt;br&gt;æˆ‘åŸæœ¬ä¹Ÿæ˜¯é€™éº¼æƒ³, ä½†åŸºæ–¼æŸæ¬¡ä¸»ç®¡æŠŠå®ƒæ‹¿ä¾†åšåˆ¥çš„äº‹æƒ…å¾Œ, æˆ‘æ”¹è§€äº†, æœç„¶ç¶“é©—å¾ˆé‡è¦ï¼ï¼ï¼&lt;/p&gt;
&lt;p&gt;æŸæ¬¡å› ç‚ºè¦æ‰¹æ¬¡åˆ—å° c2c åº—åˆ°åº—çš„ç‰©æµå–®, ä½†ç¶ ç•Œæ²’æœ‰é€™å€‹ api å•Šå•Šå•Š&lt;br
      
    
    </summary>
    
    
    
  </entry>
  
  <entry>
    <title>Jquery siblings method</title>
    <link href="http://www.willychang.com/2020/08/10/Jquery-siblings-method/"/>
    <id>http://www.willychang.com/2020/08/10/Jquery-siblings-method/</id>
    <published>2020-08-10T14:47:44.000Z</published>
    <updated>2020-08-10T15:09:52.533Z</updated>
    
    <content type="html"><![CDATA[<p>é›–ç„¶ <code>Jquery</code>åœ¨ç¾ä»Šä¾†èªªå¾ˆé‡è »ï¼Œä½†ä»Šå¤©ä¸ç®¡å®ƒé‡ä¸é‡è »ã€‚</p><p>å› ç‚ºå°ˆæ¡ˆçš„é—œè¥¿ï¼Œå‰ç«¯ä¹Ÿæœƒç¢°åˆ°(å¯ä»¥è¶æ©Ÿç·´ç¿’)ï¼Œä»Šå¤©é€é<code>ajax</code>ä¾†èªªçœ‹çœ‹ã€‚</p><p>æœ‰æ™‚å€™æˆ‘å€‘éœ€è¦é€éjsä¾†å°‹æ‰¾æˆ‘å€‘è¦çš„å…ƒç´ ã€‚<br>ä½†ç•¶æˆ‘å€‘åœ¨è¿´åœˆå°å‡ºè³‡æ–™æ™‚ï¼Œæ¯å€‹<code>class</code>, <code>id</code> åç¨±çš†æœƒç›¸åŒã€‚<br>æ‰€ä»¥æˆ‘å€‘å¯ä»¥é€é<code>this</code>å…ˆæ‹¿åˆ°ç•¶ä¸‹çš„å…ƒç´ ã€‚<br>åœ¨é€é <code>siblings()</code>ä¾†å°‹æ‰¾åŒå±¤ç´šçš„å…ƒç´ ã€‚</p><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ä»¥ä¸‹ç‚ºerbï¼Œåƒ…æ“·å–éƒ¨åˆ†</span></span><br><span class="line"></span><br><span class="line">&lt;% @orders.each <span class="keyword">do</span> <span class="params">|order|</span> %&gt;</span><br><span class="line">  &lt;td&gt;&lt;%= link_to order.number, edit_admin_order_path(order) %&gt;&lt;br&gt;</span><br><span class="line">      &lt;%= hidden_field_tag order.shipments_number %&gt;</span><br><span class="line">      &lt;input type="text" class="track-val" value="&lt;%= order.track_number %&gt;" style="width:50%;" disabled="true"&gt;</span><br><span class="line">      &lt;%= link_to <span class="string">'edit'</span>, <span class="string">'ç·¨è¼¯'</span>, <span class="string">'#'</span>, <span class="class"><span class="keyword">class</span>: '<span class="title">edit</span>-<span class="title">tracking</span> <span class="title">btn</span> <span class="title">btn</span>-<span class="title">primary</span> <span class="title">btn</span>-<span class="title">sm</span>' %&gt;</span></span><br><span class="line"></span><br><span class="line">      &lt;%= link_to <span class="string">'save'</span>, <span class="string">'å„²å­˜'</span>, <span class="string">'#'</span>, <span class="class"><span class="keyword">class</span>: '<span class="title">save</span>-<span class="title">tracking</span> <span class="title">btn</span> <span class="title">btn</span>-<span class="title">success</span> <span class="title">btn</span>-<span class="title">sm</span> <span class="title">track_btn</span>', <span class="title">no_text</span>: <span class="title">true</span> %&gt;</span></span><br><span class="line">  &lt;<span class="regexp">/td&gt;</span></span><br><span class="line"><span class="regexp">&lt;% end %&gt;</span></span><br></pre></td></tr></table></figure><p>æˆ‘æƒ³é€éåœ¨ä¸‹å„²å­˜linkçš„æ™‚å€™é€é<code>ajax</code>æ‰“åˆ°å¾Œç«¯åšæ›´æ–°ã€‚<br>ä½†é¦–å…ˆæˆ‘éœ€è¦åœ¨ç•«é¢ä¸Šæ‹¿åˆ°å…ƒç´ ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ä»¥ä¸‹ç‚º Jquery</span></span><br><span class="line"></span><br><span class="line">$(<span class="string">'.track_btn'</span>).on(<span class="string">'click'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">  <span class="keyword">var</span> trackNumber = $(<span class="keyword">this</span>).siblings(<span class="string">'.track-val'</span>).val(); <span class="comment">// æˆ‘å…ˆé€é siblings æ–¹æ³•æ‹¿åˆ°åŒå±¤ç´š .track-val çš„val</span></span><br><span class="line">  <span class="keyword">var</span> shipmentNumber = $(<span class="keyword">this</span>).siblings(<span class="string">'input[type=hidden]'</span>).attr(<span class="string">'id'</span>); <span class="comment">// åœ¨ä¸€æ¨£é€é siblings æ‹¿åˆ°éš±è—inputçš„å€¼</span></span><br><span class="line">  $.ajax(&#123;</span><br><span class="line">    type: <span class="string">'PUT'</span>,</span><br><span class="line">    url: <span class="string">'/api/v1/shipments/'</span> + shipmentNumber + <span class="string">'.json'</span>,</span><br><span class="line">    data: &#123;</span><br><span class="line">      type: <span class="string">'JSON'</span>,</span><br><span class="line">      token: Api.api_key,</span><br><span class="line">      shipment: &#123; <span class="attr">tracking</span>: trackNumber &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">  $(<span class="keyword">this</span>).siblings(<span class="string">'.track-val'</span>).attr(<span class="string">'disabled'</span>, <span class="literal">true</span>)</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>é€éé€™ç¨®å¯ä»¥æ‹¿åˆ°é™„è¿‘å…ƒç´ çš„æ–¹æ³•ï¼Œæ–¹ä¾¿å¾ˆå¤šã€‚</p><p>ä»¥ä¸Šç‚ºä¸è² è²¬å¿ƒå¾—</p><p><a href="https://api.jquery.com/siblings/" target="_blank" rel="noopener" title="Title">siblings methodèªªæ˜</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;é›–ç„¶ &lt;code&gt;Jquery&lt;/code&gt;åœ¨ç¾ä»Šä¾†èªªå¾ˆé‡è »ï¼Œä½†ä»Šå¤©ä¸ç®¡å®ƒé‡ä¸é‡è »ã€‚&lt;/p&gt;
&lt;p&gt;å› ç‚ºå°ˆæ¡ˆçš„é—œè¥¿ï¼Œå‰ç«¯ä¹Ÿæœƒç¢°åˆ°(å¯ä»¥è¶æ©Ÿç·´ç¿’)ï¼Œä»Šå¤©é€é&lt;code&gt;ajax&lt;/code&gt;ä¾†èªªçœ‹çœ‹ã€‚&lt;/p&gt;
&lt;p&gt;æœ‰æ™‚å€™æˆ‘å€‘éœ€è¦é€éjsä¾†å°‹æ‰¾æˆ‘å€‘è¦çš„å…ƒç´ ã€‚&lt;br&gt;ä½†ç•¶æˆ‘å€‘åœ¨
      
    
    </summary>
    
    
    
  </entry>
  
  <entry>
    <title>Rails ç¶ ç•Œåƒæ•¸</title>
    <link href="http://www.willychang.com/2020/08/01/rails-%E7%B6%A0%E7%95%8C%E5%8F%83%E6%95%B8/"/>
    <id>http://www.willychang.com/2020/08/01/rails-%E7%B6%A0%E7%95%8C%E5%8F%83%E6%95%B8/</id>
    <published>2020-08-01T07:20:41.000Z</published>
    <updated>2020-08-01T07:34:49.154Z</updated>
    
    <content type="html"><![CDATA[<p>å› ç‚ºè‡ªå·±è² è²¬çš„å°ˆæ¡ˆï¼Œæ‰€ä»¥æœ‰ç¢°åˆ°ç¶ ç•Œé‡‘ç‰©æµï¼Œåœ¨å¯¦éš›æ“ä½œä¸‹ï¼Œæ‰çŸ¥é“å¤§å®¶å£ä¸­èªªåˆ°åº•æœ‰å¥ª*äº†ã€‚</p><p>é›–ç„¶éƒ½æœ‰apiï¼Œä½†æœ‰æ™‚å€™å»å¯«çš„ä¸æ˜¯å¾ˆæ˜ç¢ºï¼Œå°è‡´ä¸ç®¡æ€éº¼é€ï¼Œéƒ½å¤±æ•—ã€‚</p><p>å› ç‚ºåƒæ•¸ï¼Œæœ‰å¯«èªªè¦å¸¶ä»€éº¼æ ¼å¼ï¼Œä½†å»æ²’èªªæ²’å¸¶æ™‚éœ€è¦çµ¦ä»€éº¼ï¼</p><h1 id="ç©ºå€¼ï¼ï¼ï¼-ä¹Ÿå°±æ˜¯ç©ºå­—ä¸²å°±å¯ä»¥äº†ï¼ï¼ï¼-â€˜â€™"><a href="#ç©ºå€¼ï¼ï¼ï¼-ä¹Ÿå°±æ˜¯ç©ºå­—ä¸²å°±å¯ä»¥äº†ï¼ï¼ï¼-â€˜â€™" class="headerlink" title="ç©ºå€¼ï¼ï¼ï¼ ä¹Ÿå°±æ˜¯ç©ºå­—ä¸²å°±å¯ä»¥äº†ï¼ï¼ï¼ â€˜â€™"></a>ç©ºå€¼ï¼ï¼ï¼ ä¹Ÿå°±æ˜¯ç©ºå­—ä¸²å°±å¯ä»¥äº†ï¼ï¼ï¼ â€˜â€™</h1><p>æ¯”æ–¹èªª: ScheduledDeliveryDate #æŒ‡å®šåˆ°è²¨æ—¥<br>è²·å®¶å¯èƒ½æœƒæƒ³æŒ‡å®šåˆ°è²¨æ—¥æˆ–è€…ä¸æŒ‡å®šã€‚</p><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">scheduled_delivery_date</span></span></span><br><span class="line">  bill_address.arrival_date.presence <span class="params">||</span> <span class="string">''</span></span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure><p>é‚£å…¶å¯¦åœ¨tryäº†å¾ˆå¤šæ¬¡ä¹‹ä¸‹ï¼Œé‚„æœ‰å¯«ä¿¡å»å•ã€‚<br>æ‰çŸ¥é“å¯ä»¥å‚³å¸¶ç©ºå­—ä¸²å³å¯ã€‚</p><p>é‚£æˆ‘å€‘é€šå¸¸æœƒç”¨ <code>present</code> æ–¹æ³•ï¼Œå†ç”¨ä¸‰å…ƒé‹ç®—ï¼Œ<br>é‚£é€™é‚Šå¯ä»¥ä½¿ç”¨ <code>presence</code>ï¼Œé›–ç„¶æ˜¯åšä¸€æ¨£çš„äº‹æƒ…ï¼Œä½†å¯ä»¥å°‘å¯«å¹¾å€‹å­—ã€‚<br><code>presence</code>æœƒè‡ªå·±æª¢æŸ¥æœ¬èº«æ˜¯å¦å­˜åœ¨ï¼Œå¦‚æœå­˜åœ¨ï¼Œå°±æœƒå›å‚³è‡ªå·±ï¼Œ<br>å‡ä½¿ä¸å­˜åœ¨ï¼Œå‰‡å›å‚³|| <code>&#39;&#39;</code>å›å»ã€‚</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;å› ç‚ºè‡ªå·±è² è²¬çš„å°ˆæ¡ˆï¼Œæ‰€ä»¥æœ‰ç¢°åˆ°ç¶ ç•Œé‡‘ç‰©æµï¼Œåœ¨å¯¦éš›æ“ä½œä¸‹ï¼Œæ‰çŸ¥é“å¤§å®¶å£ä¸­èªªåˆ°åº•æœ‰å¥ª*äº†ã€‚&lt;/p&gt;
&lt;p&gt;é›–ç„¶éƒ½æœ‰apiï¼Œä½†æœ‰æ™‚å€™å»å¯«çš„ä¸æ˜¯å¾ˆæ˜ç¢ºï¼Œå°è‡´ä¸ç®¡æ€éº¼é€ï¼Œéƒ½å¤±æ•—ã€‚&lt;/p&gt;
&lt;p&gt;å› ç‚ºåƒæ•¸ï¼Œæœ‰å¯«èªªè¦å¸¶ä»€éº¼æ ¼å¼ï¼Œä½†å»æ²’èªªæ²’å¸¶æ™‚éœ€è¦çµ¦ä»€éº¼ï¼&lt;/p&gt;
&lt;h1 id=&quot;ç©ºå€¼ï¼ï¼
      
    
    </summary>
    
    
    
  </entry>
  
  <entry>
    <title>Rails-super-èµ·é£›æ‘Ÿ</title>
    <link href="http://www.willychang.com/2020/05/07/Rails-super-%E8%B5%B7%E9%A3%9B%E6%91%9F/"/>
    <id>http://www.willychang.com/2020/05/07/Rails-super-%E8%B5%B7%E9%A3%9B%E6%91%9F/</id>
    <published>2020-05-06T17:06:46.000Z</published>
    <updated>2020-05-06T17:07:21.332Z</updated>
    
    <content type="html"><![CDATA[<p>è¶è‘—é‚„æœ‰æƒ³æ³•çš„æ™‚å€™ï¼Œè¶•å¿«å¯«ä¸‹ä¾†ã€‚<br>å› ç‚ºå°ˆæ¡ˆçš„é—œä¿‚ï¼Œç”¨åˆ°äº†<code>class_eval</code> and <code>super</code>ã€‚<br>ç›¸ä¿¡å¤§å®¶å°<code>super</code>ä¸é™Œç”Ÿï¼Œå¯èƒ½å¸¸çœ‹åˆ°å§ã€‚</p><p><code>super</code>æ˜¯ä»€éº¼å‘¢ï¼Ÿ<br><em>It[Super] calls a method on the parent class with the same name as the method that calls super.</em><br>å®ƒæ˜¯ç•¶æˆ‘å€‘æƒ³è¦ä½¿ç”¨ä¸€å€‹é¡åˆ¥(class)ä¸­çš„ç‰¹å®šæ–¹æ³•ï¼Œä½†åˆæƒ³ä¿ç•™å®ƒçˆ¶å±¤åŸæœ‰åŒåæ–¹æ³•è£¡çš„å…§å®¹ã€‚</p><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span></span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">hi</span></span></span><br><span class="line">    p <span class="string">"å“ˆæ‘Ÿ"</span></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">B</span> &lt; A</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">hi</span></span></span><br><span class="line">    <span class="keyword">super</span></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line">B.new.hi</span><br><span class="line"> =&gt; <span class="string">"å“ˆæ‘Ÿ"</span></span><br></pre></td></tr></table></figure><p>A classè£¡é¢å®šç¾©äº†ä¸€å€‹<code>hi</code> methodï¼ŒB classç¹¼æ‰¿A classï¼ŒåŒæ™‚B classè£¡é¢ä¹Ÿå®šç¾©äº†<code>hi</code>ï¼Œåœ¨è£¡é¢ç”¨äº†superï¼Œç•¶B classä½¿ç”¨äº†<code>hi</code>æ–¹æ³•æ™‚ï¼Œä¹Ÿä¸€ä½µæŠŠB classè£¡çš„æ–¹æ³•å¸¶åˆ°çˆ¶å±¤A classè£¡çš„<code>hi</code> methodè£¡åŸ·è¡Œã€‚ä½†ä¸Šé¢çš„ç¯„ä¾‹æ ¹æœ¬ä¸ç”¨é€™æ¨£åšï¼Œå› ç‚ºæ—¢ç„¶æ˜¯ç¹¼æ‰¿äº†ï¼Œå®ƒæ ¹æœ¬ä¸ç”¨åœ¨å®šç¾©ä¸€å€‹åŒåæ–¹æ³•ï¼Œç›´æ¥ä½¿ç”¨<code>B.new.hi</code>ä¹Ÿæœƒæ˜¯ä¸€æ¨£çš„çµæœã€‚</p><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span></span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">hi</span></span></span><br><span class="line">    p <span class="string">"å“ˆæ‘Ÿ"</span></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">B</span> &lt; A</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">hi</span></span></span><br><span class="line">    <span class="keyword">super</span></span><br><span class="line">    p <span class="string">"å¤§å®¶å¥½"</span></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">B.new.hi</span><br><span class="line">=&gt; </span><br><span class="line"><span class="string">"å“ˆæ‘Ÿ"</span></span><br><span class="line"><span class="string">"å¤§å®¶å¥½"</span></span><br></pre></td></tr></table></figure><p>é›–ç„¶ç¯„ä¾‹ä¸æ˜¯å¾ˆå¥½ï¼Œä½†æˆ‘é€™æ¬¡åœ¨B classåŠ äº†â€å¤§å®¶å¥½â€ï¼ŒB class <code>hi</code> methodï¼Œå°±æŠŠå®ƒå¸¶åˆ°çˆ¶å±¤A class <code>hi</code> methodä¸€èµ·åŸ·è¡Œäº†ã€‚</p><p>é‚£é€™æ¬¡å°ˆæ¡ˆè£¡è¸©åˆ°çš„é›·ï¼Œæ˜¯æˆ‘å€‘ä½¿ç”¨äº†<code>class_eval</code>é€™å€‹method(å¯è‡ªè¡Œgoogle or æˆ‘å“ªå¤©æœƒå¯«ä¸€ç¯‡)<br>æˆ‘éœ€è¦å¾åŸæœ¬çš„<code>index</code>ç¹¼çºŒå»¶ä¼¸ä¸‹å»ï¼Œæ‰€ä»¥æˆ‘ä»¥ç‚ºåœ¨<code>class_eval</code>è£¡ç”¨<code>super</code>å°±èƒ½ç¹¼çºŒåœ¨<code>index</code>å¯«ä¸‹å»ã€‚</p><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">xxxController.class_eval <span class="keyword">do</span></span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">index</span></span></span><br><span class="line">    <span class="keyword">super</span></span><br><span class="line">    <span class="comment">#ä»¥ä¸‹æˆ‘è¦åŸ·è¡Œå¾—ä»£ç¢¼</span></span><br><span class="line">    ...</span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure><p>ä½†æœƒå™´<br><em>NoMethodError (super: no superclass method <code>index</code>)</em></p><p>å› ç‚ºé€™æ™‚<code>xxxController.class_eval</code>å°±æ˜¯å®ƒè‡ªå·±ï¼Œæ‰€ä»¥åœ¨å»¶ä¼¸<code>index</code>æ™‚æ²’æœ‰superå¯ç”¨(é™¤éå®ƒçš„çˆ¶å±¤æœ‰<code>index</code>)ã€‚<br>æˆ‘ç”¨<code>ancestors</code>ä¾†çœ‹çœ‹é€™å€‹<code>controller</code>çš„ç¥–å…ˆå€‘æ˜¯èª°ï¼Œçœ‹åˆ°ä»¥ä¸‹é€™äº›ï¼Œæ„Ÿè¦ºå°±æ²’æœ‰ç¹¼æ‰¿<code>index</code>é›£æ€ªæœƒéŒ¯ã€‚<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">Spree::BaseController,</span><br><span class="line">Spree::ViewContext,</span><br><span class="line">ActionController::Base,</span><br><span class="line">Devise::OmniAuth::UrlHelpers,</span><br><span class="line">Devise::Controllers::UrlHelpers,</span><br><span class="line">Devise::Controllers::Helpers,</span><br><span class="line">Devise::Controllers::StoreLocation,</span><br><span class="line">Devise::Controllers::SignInOut,</span><br><span class="line">Turbolinks::Redirection,</span><br><span class="line">Turbolinks::Controller,</span><br><span class="line">Rollbar::Rails::ControllerMethods,</span><br><span class="line">Rollbar::RequestDataExtractor,</span><br><span class="line">ActiveRecord::Railties::ControllerRuntime,</span><br><span class="line">ActionDispatch::Routing::RouteSet::MountedHelpers,</span><br><span class="line">VersionCake::ControllerAdditions,</span><br><span class="line">ActionController::RespondWith,</span><br><span class="line">CanCan::ControllerAdditions,</span><br><span class="line">ActionController::ParamsWrapper,</span><br><span class="line">ActionController::Instrumentation,</span><br><span class="line">ActionController::Rescue</span><br></pre></td></tr></table></figure><p>é€™æ™‚å°±å¯ä»¥ç”¨<code>concern module</code>ä¾†<code>include</code>ã€‚å°±å¯ä»¥å˜ã€‚</p><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">module</span> <span class="title">Hello</span></span></span><br><span class="line">  extend ActiveSupport::Concern</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">index</span></span></span><br><span class="line">    <span class="keyword">super</span></span><br><span class="line">    respond_to <span class="keyword">do</span> <span class="params">|f|</span></span><br><span class="line">      f.html</span><br><span class="line">      f.xlsx <span class="keyword">do</span></span><br><span class="line">        ...</span><br><span class="line">      <span class="keyword">end</span></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span> </span><br><span class="line"></span><br><span class="line">---æˆ‘æ˜¯åˆ†éš”ç·š</span><br><span class="line"></span><br><span class="line">xxxController.class_eval <span class="keyword">do</span></span><br><span class="line">  <span class="keyword">include</span> Hello</span><br><span class="line">  ...</span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure><p>-W</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;è¶è‘—é‚„æœ‰æƒ³æ³•çš„æ™‚å€™ï¼Œè¶•å¿«å¯«ä¸‹ä¾†ã€‚&lt;br&gt;å› ç‚ºå°ˆæ¡ˆçš„é—œä¿‚ï¼Œç”¨åˆ°äº†&lt;code&gt;class_eval&lt;/code&gt; and &lt;code&gt;super&lt;/code&gt;ã€‚&lt;br&gt;ç›¸ä¿¡å¤§å®¶å°&lt;code&gt;super&lt;/code&gt;ä¸é™Œç”Ÿï¼Œå¯èƒ½å¸¸çœ‹åˆ°å§ã€‚&lt;/p&gt;
&lt;p&gt;&lt;code&gt;super&lt;/
      
    
    </summary>
    
    
    
  </entry>
  
  <entry>
    <title>å–®ä¸€è¡¨æ ¼ç¹¼æ‰¿èˆ‡å¤šå‹é—œè¯</title>
    <link href="http://www.willychang.com/2020/05/07/%E5%96%AE%E4%B8%80%E8%A1%A8%E6%A0%BC%E7%B9%BC%E6%89%BF%E8%88%87%E5%A4%9A%E5%9E%8B%E9%97%9C%E8%81%AF/"/>
    <id>http://www.willychang.com/2020/05/07/%E5%96%AE%E4%B8%80%E8%A1%A8%E6%A0%BC%E7%B9%BC%E6%89%BF%E8%88%87%E5%A4%9A%E5%9E%8B%E9%97%9C%E8%81%AF/</id>
    <published>2020-05-06T17:05:56.000Z</published>
    <updated>2020-05-06T17:06:23.496Z</updated>
    
    <content type="html"><![CDATA[<h1 id="æˆ‘è¦æ´»ä¸‹å»"><a href="#æˆ‘è¦æ´»ä¸‹å»" class="headerlink" title="æˆ‘è¦æ´»ä¸‹å»!!!"></a><a href="#æˆ‘è¦æ´»ä¸‹å»" title="æˆ‘è¦æ´»ä¸‹å»!!!"></a>æˆ‘è¦æ´»ä¸‹å»!!!</h1><p>ä»¥å‰ä¸æ•¢å•å•é¡Œï¼Œåˆ°ç¾åœ¨çœ‹åˆ°ä»€éº¼å°±æƒ³å•ï¼Œæ ¹æœ¬å¿˜äº†å…ˆ_æŸ¥è³‡æ–™_ï¼Œå†ç™¼å•ã€‚</p><p>å•å•é¡Œå‰ï¼Œæ‡‰è©²å…ˆæŸ¥è³‡æ–™ï¼Œå†æŠŠä¸äº†è§£çš„æ¿ƒç¸®æˆäººè©±(ç•¶ç„¶é€™å¾ˆé›£ï¼ï¼ï¼</p><p><strong>é›£çš„åœ°æ–¹ä¸æ˜¯ç™¼å•ï¼Œè€Œæ˜¯è¦å¾ˆè®“äººè½æ‡‚ã€‚</strong></p><p>ä»¥ä¸‹æ˜¯å¾—åˆ°çš„è§£ç­”ï¼Œé€éæˆ‘çš„å¤§è…¦ï¼Œè§£æå‡ºçš„äººè©±(ï¼Ÿ<br>æˆ–è¨±ä¸å°ï¼Œä¸æ¸…æ¥šï¼Œå†éº»ç…©å¤§å®¶åŒ…æ¶µæˆ–è€…ç›´æ¥å¹¹ç§æˆ‘å–”^_&lt;</p><h2 id="å–®ä¸€è¡¨æ ¼ç¹¼æ‰¿STI-Single-table-inheritance"><a href="#å–®ä¸€è¡¨æ ¼ç¹¼æ‰¿STI-Single-table-inheritance" class="headerlink" title="å–®ä¸€è¡¨æ ¼ç¹¼æ‰¿STI(Single-table inheritance)"></a><a href="#å–®ä¸€è¡¨æ ¼ç¹¼æ‰¿STI-Single-table-inheritance" title="å–®ä¸€è¡¨æ ¼ç¹¼æ‰¿STI(Single-table inheritance)"></a>å–®ä¸€è¡¨æ ¼ç¹¼æ‰¿STI(Single-table inheritance)</h2><p><strong>å¦‚ä½•å°‡ç‰©ä»¶å°å‘ä¸­çš„ç¹¼æ‰¿æ¦‚å¿µï¼Œå°æ‡‰åˆ°é—œè¯å¼è³‡æ–™åº«çš„è¨­è¨ˆï¼Œæ˜¯å€‹å¤§å“‰å•ã€‚Railså…§å»ºäº†å…¶ä¸­æœ€ç°¡å–®çš„ä¸€å€‹è§£æ³•ï¼Œåªç”¨ä¸€å€‹è³‡æ–™è¡¨å„²å­˜ç¹¼æ‰¿é«”ç³»ä¸­çš„ç‰©ä»¶ï¼Œæ­é…ä¸€å€‹<code>type</code>æ¬„ä½ç”¨ä¾†æŒ‡åé€™ç­†è³‡æ–™çš„é¡åˆ¥åç¨±ã€‚è¦é–‹å•ŸSTIåŠŸèƒ½ï¼Œä¾ç…§æ…£ä¾‹åªè¦æœ‰ä¸€å€‹æ¬„ä½å«åš<code>type</code>ï¼Œå‹æ…‹å­—ä¸²å³å¯</strong></p><p>æ¯”æ–¹èªªï¼šæˆ‘æœ‰ä¸€å€‹ <code>Animal Model</code>ï¼Œç‚ºäº†è¦æœ‰ç¹¼æ‰¿åŠŸèƒ½ï¼Œæˆ‘å€‘æ–°å¢ <code>type</code>é€™å€‹æ¬„ä½ã€‚</p><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><span class="line">2</span><span class="line">3</span><span class="line">4</span><span class="line">5</span><span class="line">6</span><span class="line">7</span></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">change</span></span></span><span class="line">  create_table <span class="symbol">:animals</span> <span class="keyword">do</span> <span class="params">|t|</span></span><span class="line">    t.string <span class="symbol">:name</span></span><span class="line">    t.string <span class="symbol">:type</span></span><span class="line">    t.timestamps <span class="symbol">null:</span> <span class="literal">false</span></span><span class="line">  <span class="keyword">end</span></span><span class="line"><span class="keyword">end</span></span></pre></td></tr></table></figure><p>é‚£è¦è¢«ç¹¼æ‰¿çš„ Dogã€Catå…©å€‹ Modelå°±ä¸ç”¨åœ¨å»ºç«‹è¡¨æ ¼æ¬„ä½äº†ã€‚</p><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><span class="line">2</span><span class="line">3</span><span class="line">4</span><span class="line">5</span><span class="line">6</span><span class="line">7</span><span class="line">8</span></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Animal</span> &lt; ActiveRecord::Base</span></span><span class="line"><span class="keyword">end</span></span><span class="line"></span><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Dog</span> &lt; Animal</span></span><span class="line"><span class="keyword">end</span></span><span class="line"></span><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Cat</span> &lt; Animal</span></span><span class="line"><span class="keyword">end</span></span></pre></td></tr></table></figure><p>é€™æ™‚å€™ä»–å€‘éƒ½ç¹¼æ‰¿äº†Animalé€™å€‹çˆ¸çˆ¸ï¼Œçˆ¸çˆ¸æœ‰ä»€éº¼ï¼Œä»–å€‘å°±æœ‰ä»€éº¼äº†ã€‚<br>ä½†ç¼ºé»å°±æ˜¯ï¼Œçˆ¸çˆ¸æœ‰çš„ï¼Œä½ ä¸ä¸€å®šéœ€è¦ï¼Œä½†ä½ é‚„æ˜¯å¾—æ“æœ‰é‚£äº›æ¬„ä½ã€‚<br>å¦‚æœè¦é—œé–‰çš„è©±å°±åœ¨çˆ¸çˆ¸èº«ä¸ŠåŠ ä¸Š <code>self.abstract_class = true</code></p><h2 id="å¤šå‹é—œè¯-Polymorphic-Associations"><a href="#å¤šå‹é—œè¯-Polymorphic-Associations" class="headerlink" title="å¤šå‹é—œè¯(Polymorphic Associations)"></a><a href="#å¤šå‹é—œè¯-Polymorphic-Associations" title="å¤šå‹é—œè¯(Polymorphic Associations)"></a>å¤šå‹é—œè¯(Polymorphic Associations)</h2><p><strong>å¤šå‹é—œé€£(Polymorphic Associations)å¯ä»¥è®“ä¸€å€‹ Model ä¸ä¸€å®šé—œé€£åˆ°æŸä¸€å€‹ç‰¹å®šçš„ Modelï¼Œç§˜è¨£åœ¨æ–¼é™¤äº†æ•´æ•¸çš„_idå¤–éƒ¨éµä¹‹å¤–ï¼Œå†åŠ ä¸€å€‹å­—ä¸²çš„_typeæ¬„ä½èªªæ˜æ˜¯å“ªä¸€ç¨®Modelã€‚</strong></p><p>å¤šå‹é—œè¯ï¼Œç•¶ä½ æœ‰æŸç¨®äº‹æƒ…éœ€æ±‚ï¼Œå·²ç¶“æœ‰Modelåœ¨åšé‚£ä»¶äº‹æƒ…æ™‚ã€‚<br>æˆ‘åœ¨å…¶ä»–Modelï¼Œä¹Ÿæƒ³ä½¿ç”¨åˆ°é‚£ä»¶äº‹æƒ…æ™‚ï¼Œæˆ‘å°±ä¸ç”¨åœ¨å¦å¤–å»ºç«‹Modelï¼Œä¾†åšä¸€æ¨£çš„äº‹æƒ…äº†ã€‚</p><p><em>ä»¥ä¸Šæƒ³ç”¨è‡ªå·±çš„è©±è¡¨é”ç°¡å–®ä¸€é»ï¼Œä½†è¦ºå¾—å¤ªæ”çµ±ï¼Œå¤ªæ¨¡ç³Šäº†</em></p><p><em>ä»¥ä¸‹å¼•ç”¨æ–‡ä»¶</em></p><p>ä¾‹å¦‚ä¸€å€‹Comment modelï¼Œæˆ‘å€‘å¯ä»¥é€éå¤šå‹é—œé€£è®“å®ƒbelongs_toåˆ°å„ç¨®ä¸åŒçš„ Modelä¸Šï¼Œå‡è¨­æˆ‘å€‘å·²ç¶“æœ‰äº†Articleèˆ‡Photoé€™å…©å€‹Modelï¼Œç„¶å¾Œæˆ‘å€‘å¸Œæœ›é€™å…©å€‹Modeléƒ½å¯ä»¥è¢«ç•™è¨€ã€‚ä¸ç”¨å¤šå‹é—œé€£çš„è©±ï¼Œä½ å¾—åˆ†åˆ¥å»ºç«‹ArticleCommentå’ŒPhotoCommentçš„modelã€‚ç”¨å¤šå‹é—œé€£çš„è©±ï¼Œç„¡è«–æœ‰å¤šå°‘ç¨®éœ€è¦è¢«ç•™è¨€çš„Modelï¼Œåªéœ€è¦ä¸€å€‹Comment modelå³å¯ï¼š</p><p><code>rails g model comment content:text commentable_id:integer commentable_type</code></p><p>ç”¢ç”Ÿå‡º</p><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><span class="line">2</span><span class="line">3</span><span class="line">4</span><span class="line">5</span><span class="line">6</span><span class="line">7</span><span class="line">8</span><span class="line">9</span><span class="line">10</span><span class="line">11</span></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">CreateComments</span> &lt; ActiveRecord::Migration[5.1]</span></span><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">change</span></span></span><span class="line">    create_table <span class="symbol">:comments</span> <span class="keyword">do</span> <span class="params">|t|</span></span><span class="line">      t.text <span class="symbol">:content</span></span><span class="line">      t.integer <span class="symbol">:commentable_id</span></span><span class="line">      t.string <span class="symbol">:commentable_type</span></span><span class="line"></span><span class="line">      t.timestamps</span><span class="line">    <span class="keyword">end</span></span><span class="line">  <span class="keyword">end</span></span><span class="line"><span class="keyword">end</span></span></pre></td></tr></table></figure><p>é€™å€‹Migrationæª”æ¡ˆä¸­ï¼Œæˆ‘å€‘ç”¨contenté€™å€‹æ¬„ä½ä¾†å„²å­˜ç•™è¨€çš„å…§å®¹ï¼Œcommentable_idç”¨ä¾†å„²å­˜è¢«ç•™è¨€çš„ç‰©ä»¶çš„idè€Œcommentable_typeå‰‡ç”¨ä¾†å„²å­˜è¢«ç•™è¨€ç‰©ä»¶çš„ç¨®é¡ï¼Œä»¥é€™å€‹ä¾‹å­ä¾†èªªè¢«ç•™è¨€çš„å°è±¡å°±æ˜¯Articleèˆ‡Photoé€™å…©ç¨®Modelï¼Œé€™å€‹Migrationæª”æ¡ˆä¹Ÿå¯ä»¥æ”¹å¯«æˆä¸‹é¢é€™æ¨£ï¼š</p><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><span class="line">2</span><span class="line">3</span><span class="line">4</span><span class="line">5</span><span class="line">6</span><span class="line">7</span><span class="line">8</span><span class="line">9</span><span class="line">10</span><span class="line">11</span></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">CreateComments</span> &lt; ActiveRecord::Migration[5.1]</span></span><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">change</span></span></span><span class="line">    create_table <span class="symbol">:comments</span> <span class="keyword">do</span> <span class="params">|t|</span></span><span class="line">      t.text <span class="symbol">:content</span></span><span class="line">      t.belongs_to <span class="symbol">:commentable</span>, <span class="symbol">:polymorphic</span> =&gt; <span class="literal">true</span></span><span class="line">      <span class="comment">#åŒæ™‚æœƒå¹«ä½ ç”¢ç”Ÿå‡º[:commentable_id, :commentable_type]</span></span><span class="line"></span><span class="line">      t.timestamps</span><span class="line">    <span class="keyword">end</span></span><span class="line">  <span class="keyword">end</span></span><span class="line"><span class="keyword">end</span></span></pre></td></tr></table></figure><p>é€™æ™‚å°±å¿…é ˆæŒ‡å®šé—œè¯</p><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><span class="line">2</span><span class="line">3</span><span class="line">4</span><span class="line">5</span><span class="line">6</span><span class="line">7</span><span class="line">8</span><span class="line">9</span><span class="line">10</span><span class="line">11</span><span class="line">12</span><span class="line">13</span><span class="line">14</span></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Comment</span> &lt; ApplicationRecord</span></span><span class="line">  belongs_to <span class="symbol">:commentable</span>, <span class="symbol">:polymorphic</span> =&gt; <span class="literal">true</span></span><span class="line">                          <span class="comment">#é€étrueä¾†å°‡æ­¤é—œè¯æŒ‡å®šæ˜¯å¤šå‹é—œè¯</span></span><span class="line"><span class="keyword">end</span></span><span class="line"></span><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Article</span> &lt; ApplicationRecord</span></span><span class="line">  has_many <span class="symbol">:comments</span>, <span class="symbol">:as</span> =&gt; <span class="symbol">:commentable</span></span><span class="line">                      <span class="comment">#æˆ‘å€‘ç”¨:asä¾†æŒ‡å®š :commentableé€™å€‹åƒæ•¸ä½œç‚ºå¤šå‹é—œè¯çš„æ¥å£</span></span><span class="line">                      <span class="comment">#:asæ˜¯ä»€éº¼ï¼Ÿå¯ä»¥çœ‹has_one or has_many API</span></span><span class="line"><span class="keyword">end</span></span><span class="line"></span><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Photo</span> &lt; ApplicationRecord</span></span><span class="line">  has_many <span class="symbol">:comments</span>, <span class="symbol">:as</span> =&gt; <span class="symbol">:commentable</span></span><span class="line"><span class="keyword">end</span></span></pre></td></tr></table></figure><p>æ¥ä¸‹ä¾†å¯ä»¥é€éé—œè¯ä¾†æ–°å¢ç•™è¨€</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><span class="line">2</span><span class="line">3</span><span class="line">4</span><span class="line">5</span><span class="line">6</span><span class="line">7</span><span class="line">8</span><span class="line">9</span><span class="line">10</span><span class="line">11</span></pre></td><td class="code"><pre><span class="line">article &#x3D; Article.first</span><span class="line"></span><span class="line">#é€éé—œé€£æ–°å¢ç•™è¨€</span><span class="line">comment &#x3D; article.comments.create(:content &#x3D;&gt; &quot;First Comment&quot;)</span><span class="line"></span><span class="line">#ä½ å¯ä»¥ç™¼ç¾ Rails å¾ˆè°æ˜çš„å¹«æˆ‘å€‘æŒ‡å®šäº†è¢«ç•™è¨€ç‰©ä»¶çš„ç¨®é¡å’Œid</span><span class="line">comment.commentable_type &#x3D;&gt; &quot;Article&quot;</span><span class="line">comment.commentable_id &#x3D;&gt; 1</span><span class="line"></span><span class="line">#ä¹Ÿå¯ä»¥é€é commentable åå‘å›æŸ¥é—œé€£çš„ç‰©ä»¶</span><span class="line">comment.commentable &#x3D;&gt; #&lt;Article id: 1, ....&gt;</span></pre></td></tr></table></figure><p>ç°¡å–®ä¾†èªªï¼Œæˆ‘æœ‰ä¸€å€‹ç•™è¨€çš„modeläº†ï¼Œæˆ‘åœ¨æ–‡ç« èˆ‡ç…§ç‰‡éƒ½æƒ³è¦å¯ä»¥ç•™è¨€ï¼Œæ—¢ç„¶å·²ç¶“æœ‰modelåœ¨åšé€™ä»¶äº‹äº†ï¼Œ<br>æˆ‘å€‘å°±ä½¿ç”¨å¤šå‹é—œè¯ä¾†é€£åˆ°é‚£è£¡å»ã€‚å°±ä¸ç”¨èªªé‚„éœ€è¦å†å¦å¤–å»ºç«‹ä»€éº¼äº†ã€‚</p><p>æ–‡ç« å¼•ç”¨åƒè€ƒè‡³ï¼š<br><a href="https://ihower.tw/rails/activerecord-relationships.html" target="_blank" rel="noopener">https://ihower.tw/rails/activerecord-relationships.html</a><br><a href="https://ihower.tw/rails/activerecord-others.html" target="_blank" rel="noopener">https://ihower.tw/rails/activerecord-others.html</a></p><p>-W</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;æˆ‘è¦æ´»ä¸‹å»&quot;&gt;&lt;a href=&quot;#æˆ‘è¦æ´»ä¸‹å»&quot; class=&quot;headerlink&quot; title=&quot;æˆ‘è¦æ´»ä¸‹å»!!!&quot;&gt;&lt;/a&gt;&lt;a href=&quot;#æˆ‘è¦æ´»ä¸‹å»&quot; title=&quot;æˆ‘è¦æ´»ä¸‹å»!!!&quot;&gt;&lt;/a&gt;æˆ‘è¦æ´»ä¸‹å»!!!&lt;/h1&gt;&lt;p&gt;ä»¥å‰ä¸æ•¢å•å•é¡Œï¼Œåˆ°ç¾åœ¨çœ‹åˆ°ä»€
      
    
    </summary>
    
    
    
  </entry>
  
  <entry>
    <title>é¡åˆ¥æ˜¯ä»€éº¼ï¼Ÿç‰©ä»¶æ˜¯ä»€éº¼ï¼Ÿ</title>
    <link href="http://www.willychang.com/2020/05/07/%E9%A1%9E%E5%88%A5%E6%98%AF%E4%BB%80%E9%BA%BC%EF%BC%9F%E7%89%A9%E4%BB%B6%E6%98%AF%E4%BB%80%E9%BA%BC%EF%BC%9F/"/>
    <id>http://www.willychang.com/2020/05/07/%E9%A1%9E%E5%88%A5%E6%98%AF%E4%BB%80%E9%BA%BC%EF%BC%9F%E7%89%A9%E4%BB%B6%E6%98%AF%E4%BB%80%E9%BA%BC%EF%BC%9F/</id>
    <published>2020-05-06T17:05:12.000Z</published>
    <updated>2020-05-06T17:05:37.002Z</updated>
    
    <content type="html"><![CDATA[<p>æ—¢ç„¶æ˜¯ç‰©ä»¶å°å‘ç¨‹å¼è¨­è¨ˆï¼Œé‚£ç‰©ä»¶æ˜¯ä»€éº¼ï¼Ÿ<br>å…¶å¯¦æˆ‘è¦ºå¾—æ‡‰è©²å…ˆææ‡‚é€™å€‹ã€‚<br>è¶è‘—æ¸…æ˜é€£å‡ï¼Œå…ˆäº†è§£ä¸€äº›åŸºç¤ï¼Œä¸ç„¶å¾ˆå¤šåŸºç¤æä¸æ‡‚ï¼Œæ ¹æœ¬åªæ˜¯å€‹æœƒå¯«codeçš„äººï¼Œå› ç‚ºæˆ‘ä¸æ‡‚å®ƒé‹ä½œçš„åŸç†ã€‚</p><p>é¡åˆ¥ï¼šä¸€å¼µè¨­è¨ˆåœ–ï¼Œè—åœ–ï¼Œå¯ä»¥åƒè€ƒçš„æ–‡ä»¶ï¼Œæ²’æœ‰å¯¦é«”çš„å­˜åœ¨ã€‚<br><em>ä½†åœ¨Rubyçš„ä¸–ç•Œè£¡ï¼Œé¡åˆ¥ä¹Ÿæ˜¯ä¸€å€‹ç‰©ä»¶ã€‚</em><br>ç‰©ä»¶ï¼šçœ‹å¾—åˆ°ã€æ‘¸å¾—åˆ°çš„å¯¦é«”ï¼Œå±¬æ–¼å‹•æ…‹ï¼Œä½†ç‹€æ…‹éš¨æ™‚æœƒæ”¹è®Šã€‚</p><p>åœ¨Rubyè£¡å¦‚ä½•å®šç¾©ä¸€å€‹é¡åˆ¥å‘¢ï¼Ÿ</p><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><span class="line">2</span><span class="line">3</span></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Cat</span></span></span><span class="line">  <span class="comment">#...</span></span><span class="line"><span class="keyword">end</span></span></pre></td></tr></table></figure><p>é€™æ¨£æˆ‘å€‘å°±å®šç¾©äº†Cat é€™å€‹class(é¡åˆ¥)<br>ç•¶ç„¶è£¡é¢å¯ä»¥å®šç¾©å¾ˆå¤šmethods(æ–¹æ³•)</p><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><span class="line">2</span><span class="line">3</span><span class="line">4</span><span class="line">5</span></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Cat</span></span></span><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">eat</span><span class="params">(food)</span></span></span><span class="line">    puts <span class="string">"<span class="subst">#&#123;food&#125;</span> å¥½å¥½åƒï¼"</span></span><span class="line">  <span class="keyword">end</span></span><span class="line"><span class="keyword">end</span></span></pre></td></tr></table></figure><p>æˆ‘å€‘å…ˆå®šç¾©ä¸€å€‹ <code>eat</code> é€™å€‹æ–¹æ³•ã€‚<br>æ¥ä¸‹ä¾†ç”¨ <code>new</code>æ–¹æ³•ä¾†æŠŠ Caté¡åˆ¥å‰µé€ å‡ºæ–°çš„ç‰©ä»¶ã€‚</p><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><span class="line">2</span></pre></td><td class="code"><pre><span class="line">willy = Cat.new</span><span class="line">willy.eat(<span class="string">"ç½é ­"</span>) =&gt; å°å‡º [ç½é ­ å¥½å¥½åƒ!]</span></pre></td></tr></table></figure><p>ç°¡å–®ä¾†èªªï¼Œç‚ºä»€éº¼èªªé¡åˆ¥æ˜¯ä¸€å¼µè¨­è¨ˆåœ–ï¼Ÿ<br>æ¯”æ–¹è¦è“‹ä¸€æ£Ÿæˆ¿å­ï¼Œé¦–å…ˆéœ€è¦ä¸€å¼µè¨­è¨ˆåœ–(é¡åˆ¥)<br>é‚£ä½ è¦é€é<code>new</code>å‡ºè¨­è¨ˆåœ–çš„æˆ¿å­(ç‰©ä»¶)<br>é€éé€™æ¨£ç°¡å–®çš„çš„æ¯”å–»ï¼Œå°±å¯ä»¥æŠŠé¡åˆ¥èˆ‡ç‰©ä»¶åˆ†å¾—æ¯”è¼ƒæ¸…æ¥šã€‚</p><p>å¯èƒ½æ¯”å–»çš„ä¸æ˜¯å¾ˆå¥½ï¼Œå†éº»ç…©å¤§å®¶çµ¦æˆ‘ä¸€äº›æŒ‡æ•™ã€‚</p><p>-W</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;æ—¢ç„¶æ˜¯ç‰©ä»¶å°å‘ç¨‹å¼è¨­è¨ˆï¼Œé‚£ç‰©ä»¶æ˜¯ä»€éº¼ï¼Ÿ&lt;br&gt;å…¶å¯¦æˆ‘è¦ºå¾—æ‡‰è©²å…ˆææ‡‚é€™å€‹ã€‚&lt;br&gt;è¶è‘—æ¸…æ˜é€£å‡ï¼Œå…ˆäº†è§£ä¸€äº›åŸºç¤ï¼Œä¸ç„¶å¾ˆå¤šåŸºç¤æä¸æ‡‚ï¼Œæ ¹æœ¬åªæ˜¯å€‹æœƒå¯«codeçš„äººï¼Œå› ç‚ºæˆ‘ä¸æ‡‚å®ƒé‹ä½œçš„åŸç†ã€‚&lt;/p&gt;
&lt;p&gt;é¡åˆ¥ï¼šä¸€å¼µè¨­è¨ˆåœ–ï¼Œè—åœ–ï¼Œå¯ä»¥åƒè€ƒçš„æ–‡ä»¶ï¼Œæ²’æœ‰å¯¦é«”çš„å­˜åœ¨ã€‚&lt;br&gt;&lt;em&gt;ä½†åœ¨
      
    
    </summary>
    
    
    
  </entry>
  
  <entry>
    <title>Rubyè£¡çš„å­—ä¸²èˆ‡ç¬¦è™Ÿ-Symbol</title>
    <link href="http://www.willychang.com/2020/05/07/Ruby%E8%A3%A1%E7%9A%84%E5%AD%97%E4%B8%B2%E8%88%87%E7%AC%A6%E8%99%9F-Symbol/"/>
    <id>http://www.willychang.com/2020/05/07/Ruby%E8%A3%A1%E7%9A%84%E5%AD%97%E4%B8%B2%E8%88%87%E7%AC%A6%E8%99%9F-Symbol/</id>
    <published>2020-05-06T17:04:08.000Z</published>
    <updated>2020-05-06T17:10:24.423Z</updated>
    
    <content type="html"><![CDATA[<p>æ·ºè«‡åœ¨Rubyè£¡çš„å­—ä¸²èˆ‡ç¬¦è™Ÿï¼Œé¦–å…ˆæˆ‘å€‘å…ˆçœ‹çœ‹å­—ä¸²çš„æ¨£å­—</p><p>å­—ä¸²ç‰©ä»¶çš„çµ„åˆæ˜¯ç”±<br><img src="https://miro.medium.com/max/988/1*Zsq3bUJJq3Vb5u2yZ1BRjA.png" alt=""><br>ä¸€å€‹è®Šæ•¸ä¾†æŒ‡å‘å­—ä¸²ç‰©ä»¶ï¼Œä¾†å½¢æˆå­—ä¸²ç‰©ä»¶ï¼Œå¦‚æœæ²’æœ‰æŒ‡å‘å­—ä¸²é€™å€‹åå­—(name)è®Šæ•¸ï¼Œå‰‡ç„¡æ³•æˆç«‹å–®ç¨èº«å­˜ã€‚å› ç‚ºå®ƒæ˜¯ç©ºçš„ï¼Œæ²’æœ‰ä»£è¡¨ä»»ä½•ç‰©ä»¶ã€‚ä¹Ÿå¯ä»¥ç¨±ç‚ºStringç‰©ä»¶ã€‚</p><p>å†ä¾†çœ‹çœ‹ Symbol<br><img src="https://miro.medium.com/max/1004/1*MoyMzPZYE1DCIYlc3ZCTsw.png" alt=""><br>ä¸€æ¨£æ˜¯ç”±ä¸€å€‹è®Šæ•¸ä¾†æŒ‡å‘ :name ï¼Œä½†é€™æ™‚å€™å°±ä¸æ˜¯å­—ä¸²ç‰©ä»¶äº†ï¼Œè€Œè®Šæˆç¬¦è™Ÿ(Symbol)ã€‚</p><p>é‚£å­—ä¸²èˆ‡ç¬¦è™Ÿçš„ä¸åŒå‘¢ï¼Ÿ</p><p>å­—ä¸²æ˜¯å¯ä»¥æ›´æ”¹å…§å®¹çš„ï¼Œè€Œç¬¦è™Ÿ_(Symbol)_æ˜¯ä¸èƒ½çš„!!! (ä»¥ä¸‹å°±ç›´æ¥é€šç¨±ç¬¦è™Ÿ</p><p>å› ç‚ºé€™æ™‚å€™ç¬¦è™Ÿå·²ç¶“è®Šæˆäº†æœ‰åå­—çš„å­—ä¸²äº†ã€‚</p><p>å°±åƒä½ çš„åå­—å¯ä»¥æ›´æ”¹å—ï¼Ÿå¥½å•¦å…¶å¯¦å¯ä»¥ï¼Œå»æˆ¶æ”¿äº‹å‹™æ‰€ã€‚</p><p>èˆ‰ä¾‹çœ‹çœ‹ï¼šå¥½æ¯”ä»Šå¤©æ£’çƒçš„æœ¬å£˜æ¿ï¼Œå®ƒå·²ç¶“å®šç¾©å«åšæœ¬å£˜æ¿äº†ï¼Œä¸å¯èƒ½æ›´æ”¹å«ä¸€å£˜æˆ–äºŒå£˜å§ã€‚</p><p>æˆ‘å€‘ä¹Ÿå¯ä»¥ç”¨.classä¾†çœ‹é€™æ™‚å€™è®Šæ•¸æ˜¯ä»€éº¼å€‹ç‰©ä»¶é¡åˆ¥ã€‚<br><img src="https://miro.medium.com/max/1400/1*uxSej6MER94aPyjNWOPS-g.png" alt=""><br><img src="https://miro.medium.com/max/1400/1*jDtsL5xdlQxJ4zgtyo4Rxw.png" alt=""><br>ç¬¦è™Ÿé¡åˆ¥å­—ä¸²ç‰©ä»¶é¡åˆ¥å¯ä»¥çœ‹å¾—å‡ºä¾†ä»–å€‘çš„é¡åˆ¥ä¸ä¸€æ¨£å§ ğŸ˜ƒ</p><p>ç•¶ç„¶å®ƒå€‘ä¹Ÿæœ‰åˆ¥çš„ä¸åŒä¹‹è™•ï¼Œç‰©ä»¶çš„IDä½ç½®(èº«åˆ†è­‰å­—è™Ÿ)ï¼Œæˆ‘å€‘å¯ä»¥ç”¨</p><p>.object_id ä¾†æŸ¥è©¢å®ƒå€‘æ‰€åœ¨çš„IDä½ç½®ã€‚<br><img src="https://miro.medium.com/max/1400/1*SSlfrvyi36iAQChyn_eXtA.png" alt=""><br>æœ‰çœ‹åˆ°å³é‚Šä¸€ä¸²ä¸€ä¸²çš„äº‚ç¢¼å—ï¼Ÿé‚£å°±æ˜¯willyé€™å€‹å­—ä¸²çš„IDä½ç½®ï¼Œæ¯æ¬¡è¼¸å…¥æ¯æ¬¡çš„ä½ç½®ä¸åŒï¼Œå› ç‚ºæ¯æ¬¡æŸ¥è©¢éƒ½æœƒåœ¨å»ºç«‹ä¸€å€‹æ–°å­—ä¸²ï¼Œæ‰æœƒæœ‰ä¸åŒçš„IDä½ç½®ã€‚<br><img src="https://miro.medium.com/max/1400/1*mTY9-ECbZ5VMezHX21rOLw.png" alt=""><br>ä½†ç¬¦è™Ÿçš„IDä½ç½®æ˜¯ä¸æœƒæ”¹è®Šçš„ï¼Œå› ç‚ºIDä½ç½®å¦‚æœç›¸åŒçš„è©±ï¼Œè¡¨ç¤ºå®ƒå€‘éƒ½æ˜¯åŒä¸€å€‹ç‰©ä»¶ï¼Œé€™æ¨£ä¸‹æ¬¡éœ€è¦é€™å€‹ç¬¦è™Ÿæ™‚ï¼Œè¨˜æ†¶é«”å°±ä¸ç”¨åœ¨æ–°å¢ä¸€ä»½ï¼Œç›´æ¥å¾è¨˜æ†¶é«”å–å‡ºï¼Œç›¸å°çš„ç¬¦è™Ÿä¹Ÿè¼ƒçœè¨˜æ†¶é«”ç©ºé–“ã€‚</p><p>å­—ä¸²åŠ ç¬¦è™Ÿ(Symbol) é¡åˆ¥éƒ½æœ‰æä¾›ä¸€äº›æ–¹æ³•å¯ä»¥äº’ç›¸è½‰æ›ï¼Œ</p><p>æˆ‘å€‘å¯ä»¥ç”¨:</p><p>å­—ä¸²è½‰ç¬¦è™Ÿä½¿ç”¨:to_sym</p><p>ç¬¦è™Ÿè½‰å­—ä¸²ä½¿ç”¨:to_s</p><p>é‚£æˆ‘å€‘çš„ä½¿ç”¨æ™‚æ©Ÿå‘¢ï¼Ÿå¯ä»¥ç”¨åœ¨Hashè£¡çš„key:</p><p>å› ç‚ºå®ƒèƒ½æ›´å¿«çš„è¢«æ‰¾åˆ°ã€‚</p><p>ç¸½çµï¼š</p><p>å­—ä¸²èˆ‡ç¬¦è™ŸåŒæ¨£æ˜¯ä¸€å€‹ç‰©ä»¶ï¼Œä½†é¡åˆ¥ä¸åŒï¼Œä½¿ç”¨æ–¹æ³•ä¹Ÿä¸åŒã€‚</p><p>ä½†æˆ‘è¦ºå¾—ç¬¦è™Ÿçš„ç”¨é€”æ¯”è¼ƒåƒæ˜¯æ›´æ˜ç¢ºçš„è¡¨ç¾ç‰©ä»¶çµ¦äººçš„æ„æ€ï¼Œ</p><p>å› ç‚ºå®ƒçš„å…§å®¹æ˜¯ä¸å¯ä»¥æ”¹è®Šçš„ï¼ï¼ï¼</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;æ·ºè«‡åœ¨Rubyè£¡çš„å­—ä¸²èˆ‡ç¬¦è™Ÿï¼Œé¦–å…ˆæˆ‘å€‘å…ˆçœ‹çœ‹å­—ä¸²çš„æ¨£å­—&lt;/p&gt;
&lt;p&gt;å­—ä¸²ç‰©ä»¶çš„çµ„åˆæ˜¯ç”±&lt;br&gt;&lt;img src=&quot;https://miro.medium.com/max/988/1*Zsq3bUJJq3Vb5u2yZ1BRjA.png&quot; alt=&quot;&quot;&gt;&lt;br&gt;ä¸€å€‹è®Šæ•¸ä¾†æŒ‡
      
    
    </summary>
    
    
    
  </entry>
  
  <entry>
    <title>Rails-è¿½code-å°æŠ€å·§</title>
    <link href="http://www.willychang.com/2020/05/07/Rails-%E8%BF%BDcode-%E5%B0%8F%E6%8A%80%E5%B7%A7/"/>
    <id>http://www.willychang.com/2020/05/07/Rails-%E8%BF%BDcode-%E5%B0%8F%E6%8A%80%E5%B7%A7/</id>
    <published>2020-05-06T17:02:24.000Z</published>
    <updated>2020-05-06T17:03:27.579Z</updated>
    
    <content type="html"><![CDATA[<p>æ˜¯ä¸æ˜¯æœ‰æ™‚å€™è¦ºå¾—ï¼Œå¹¹é€™æ–¹æ³•åˆ°åº•åœ¨å“ªè£¡ï¼Ÿåˆ°åº•æ˜¯å¹¹å˜›çš„ï¼Ÿç„¶å¾Œé€™å€‹objectåˆ°åº•æœ‰å“ªäº›æ–¹æ³•å¯ä»¥ç”¨ï¼Ÿæ»¿é ­å•å¥½ï¼Ÿï¼Ÿï¼Ÿæœ¬äººæ­£æ˜¯å¦‚æ­¤</p><p>ä»Šå¤©å‡è¨­æˆ‘å€‘æœ‰ä¸€å€‹ Cat classï¼Œè£¡é¢æœ‰å…©å€‹methodsï¼Œç•¶ç„¶å¯èƒ½æ›´å¤šã€‚</p><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><span class="line">2</span><span class="line">3</span><span class="line">4</span><span class="line">5</span><span class="line">6</span><span class="line">7</span></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Cat</span></span></span><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">run</span></span></span><span class="line">  <span class="keyword">end</span></span><span class="line">  </span><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">eat</span></span></span><span class="line">  <span class="keyword">end</span></span><span class="line"><span class="keyword">end</span></span></pre></td></tr></table></figure><p>é‚£æˆ‘å€‘å¯ä»¥ç”¨ Cat.new.methodsï¼Œåœ¨consoloè£¡é¢æŸ¥é€™å€‹classè£¡ï¼Œåˆ°åº•æœ‰å“ªäº›æ–¹æ³•</p><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><span class="line">2</span></pre></td><td class="code"><pre><span class="line">Cat.new.methods</span><span class="line"> =&gt; [<span class="symbol">:run</span>, <span class="symbol">:eat</span>, <span class="symbol">:instance_variable_set</span>, <span class="symbol">:instance_variable_defined?</span>, <span class="symbol">:remove_instance_variable</span>, <span class="symbol">:instance_of?</span>, <span class="symbol">:kind_of?</span>, <span class="symbol">:is_a?</span>, <span class="symbol">:tap</span>, <span class="symbol">:instance_variable_get</span>, <span class="symbol">:public_methods</span>, <span class="symbol">:instance_variables</span>, <span class="symbol">:method</span>, <span class="symbol">:public_method</span>, <span class="symbol">:define_singleton_method</span>, <span class="symbol">:public_send</span>, <span class="symbol">:singleton_method</span>, <span class="symbol">:extend</span>, <span class="symbol">:pp</span>, <span class="symbol">:to_enum</span>, <span class="symbol">:enum_for</span>, <span class="symbol">:&lt;=&gt;</span>, <span class="symbol">:===</span>, <span class="symbol">:=~</span>, <span class="symbol">:</span>!~, <span class="symbol">:eql?</span>, <span class="symbol">:respond_to?</span>, <span class="symbol">:freeze</span>, <span class="symbol">:inspect</span>, <span class="symbol">:object_id</span>, <span class="symbol">:send</span>, <span class="symbol">:to_s</span>, <span class="symbol">:display</span>, <span class="symbol">:nil?</span>, <span class="symbol">:hash</span>, <span class="symbol">:class</span>, <span class="symbol">:singleton_class</span>, <span class="symbol">:clone</span>, <span class="symbol">:itself</span>, <span class="symbol">:dup</span>, <span class="symbol">:taint</span>, <span class="symbol">:yield_self</span>, <span class="symbol">:untaint</span>, <span class="symbol">:tainted?</span>, <span class="symbol">:untrusted?</span>, <span class="symbol">:untrust</span>, <span class="symbol">:frozen?</span>, <span class="symbol">:trust</span>, <span class="symbol">:methods</span>, <span class="symbol">:singleton_methods</span>, <span class="symbol">:protected_methods</span>, <span class="symbol">:private_methods</span>, <span class="symbol">:</span>!, <span class="symbol">:equal?</span>, <span class="symbol">:instance_eval</span>, <span class="symbol">:==</span>, <span class="symbol">:instance_exec</span>, <span class="symbol">:</span>!=, <span class="symbol">:__id__</span>, <span class="symbol">:__send__</span>]</span></pre></td></tr></table></figure><p>æœ‰çœ‹åˆ°å‰é¢å…©å€‹methodå—ï¼Ÿæ˜¯æˆ‘å€‘è‡ªå·±å®šç¾©çš„methodï¼Œä¹Ÿçœ‹åˆ°äº†é€™å€‹calssç¹¼æ‰¿çš„æ‰€æœ‰çš„methodã€‚</p><p>é‚£æˆ‘åªæƒ³çœ‹åªå®šç¾©åœ¨é€™å€‹calssè£¡çš„methodå‘¢ï¼Ÿ</p><p>å¯ä»¥ç”¨ Cat.new.methodsâ€Š-â€ŠObject.new.methods</p><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">Cat.new.methodsâ€Š-â€ŠObject.new.methods</span></pre></td></tr></table></figure><p>é‚£æœ‰äº›å¹«ä½ åšå¥½çš„methodï¼Œå®ƒçš„åŸå§‹ç¢¼åœ¨å“ªè£¡ï¼Ÿæƒ³çœ‹å®ƒæ˜¯æ€éº¼åšçš„</p><p>é€™æ™‚å€™æˆ‘å€‘å°±å¯ä»¥ç”¨Rails çš„å°æŠ€å·§</p><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><span class="line">2</span><span class="line">3</span><span class="line">4</span><span class="line">5</span><span class="line">6</span><span class="line">7</span></pre></td><td class="code"><pre><span class="line">cat = Cat.new </span><span class="line"></span><span class="line">cat.method(<span class="symbol">:run</span>)</span><span class="line"><span class="comment"># =&gt; #&lt;Method: cat#run&gt;</span></span><span class="line"></span><span class="line">cat.method(<span class="symbol">:run</span>).source_location</span><span class="line"><span class="comment"># =&gt; ["cat.rb", 1]</span></span></pre></td></tr></table></figure><p>é€™æ¨£è¿½ï¼Œä¸€ç›´è¿½è¿½è¿½ï¼Œè¿½åˆ°å¤©æ¶¯æµ·è§’å§ï½ï½ï½</p><p><a href="https://www.spreered.com/learn-rail-by-ruby/" target="_blank" rel="noopener">https://www.spreered.com/learn-rail-by-ruby/</a><br>æœ¬ç¯‡åƒè€ƒä»¥ä¸Šæ–‡ç« </p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;æ˜¯ä¸æ˜¯æœ‰æ™‚å€™è¦ºå¾—ï¼Œå¹¹é€™æ–¹æ³•åˆ°åº•åœ¨å“ªè£¡ï¼Ÿåˆ°åº•æ˜¯å¹¹å˜›çš„ï¼Ÿç„¶å¾Œé€™å€‹objectåˆ°åº•æœ‰å“ªäº›æ–¹æ³•å¯ä»¥ç”¨ï¼Ÿæ»¿é ­å•å¥½ï¼Ÿï¼Ÿï¼Ÿæœ¬äººæ­£æ˜¯å¦‚æ­¤&lt;/p&gt;
&lt;p&gt;ä»Šå¤©å‡è¨­æˆ‘å€‘æœ‰ä¸€å€‹ Cat classï¼Œè£¡é¢æœ‰å…©å€‹methodsï¼Œç•¶ç„¶å¯èƒ½æ›´å¤šã€‚&lt;/p&gt;
&lt;figure class=&quot;highlight
      
    
    </summary>
    
    
    
  </entry>
  
  <entry>
    <title>Heroku-Application-errorè§£æ±º</title>
    <link href="http://www.willychang.com/2020/05/07/Heroku-Application-error%E8%A7%A3%E6%B1%BA/"/>
    <id>http://www.willychang.com/2020/05/07/Heroku-Application-error%E8%A7%A3%E6%B1%BA/</id>
    <published>2020-05-06T17:01:11.000Z</published>
    <updated>2020-05-06T17:01:47.820Z</updated>
    
    <content type="html"><![CDATA[<p><img src="https://miro.medium.com/max/1400/1*l2kUD9UHZDBqDir9mLqOSQ.png" alt=""><br>å› ç‚ºæŠŠç¬¬ä¸€å€‹å°ˆæ¡ˆè¦æ¨ä¸ŠHerokuï¼Œæ»¿å¿ƒæœŸå¾…ç¬¬ä¸€å€‹ä½œå“å¯ä»¥ä¸Šç·šï¼Œçœ‹è‘—å…¶ä»–åŒå­¸éƒ½æœ‰ç•«é¢ï¼Œæˆ‘å»è·‘é€™ä»–é¡å¨˜çš„Application errorç•«é¢ï¼ŒçœŸæ˜¯è®“äººé›£éã€‚</p><p>æ–¼æ˜¯å°±é€é <code>heroku logsâ€Š-â€Štail</code> é€™æ®µæŒ‡ä»¤ï¼Œçœ‹åˆ°äº†ä»¥ä¸‹ç•«é¢</p><p><img src="https://miro.medium.com/max/560/1*lKzMg6p58XUGUeqMoJe9Kw.png" alt=""></p><p>ä»–ç­‰å¾…äº†60ç§’çš„PROTï¼Œä½†éƒ½æ²’æœ‰æ”¶åˆ°ï¼Œå¾Œä¾†æ‰ç™¼ç¾ï¼Œå› ç‚ºå°ˆæ¡ˆè£¡çš„Profileå·²ç¶“å¯«æ­»äº† 3000ã€‚</p><p><code>web: bin/rails server -p 3000</code></p><p>æ”¹æˆ</p><p><code>web: bin/rails server -p $PORT</code></p><p>å¯èƒ½æ˜¯å› ç‚ºHerokuä¸èƒ½æŒ‡å®šPROTçš„é—œä¿‚ã€‚</p><p>å¦‚æœä½ çš„å•é¡Œä¹Ÿè·Ÿæˆ‘ä¸€æ¨£ï¼Œå¯ä»¥å˜—è©¦çœ‹çœ‹é€™å€‹æ–¹æ³•ã€‚</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;&lt;img src=&quot;https://miro.medium.com/max/1400/1*l2kUD9UHZDBqDir9mLqOSQ.png&quot; alt=&quot;&quot;&gt;&lt;br&gt;å› ç‚ºæŠŠç¬¬ä¸€å€‹å°ˆæ¡ˆè¦æ¨ä¸ŠHerokuï¼Œæ»¿å¿ƒæœŸå¾…ç¬¬ä¸€å€‹ä½œå“å¯ä»¥ä¸Šç·šï¼Œçœ‹è‘—å…¶ä»–åŒå­¸éƒ½æœ‰ç•«é¢ï¼Œæˆ‘å»è·‘é€™ä»–é¡å¨˜çš„Ap
      
    
    </summary>
    
    
    
  </entry>
  
  <entry>
    <title>Git æ˜¯ä»€éº¼</title>
    <link href="http://www.willychang.com/2020/05/07/Git-%E6%98%AF%E4%BB%80%E9%BA%BC/"/>
    <id>http://www.willychang.com/2020/05/07/Git-%E6%98%AF%E4%BB%80%E9%BA%BC/</id>
    <published>2020-05-06T16:59:50.000Z</published>
    <updated>2020-05-06T17:00:16.161Z</updated>
    
    <content type="html"><![CDATA[<p>gitæ˜¯ä»€éº¼ï¼Ÿç‰ˆæœ¬æ§åˆ¶ï¼Ÿå°æ–¼ç¬¬ä¸€æ¬¡è½åˆ°çš„æˆ‘ï¼Œç‰ˆæœ¬æ§åˆ¶æ˜¯å•¥ï¼Ÿ</p><p>æ²’éŒ¯ï¼Œå°±æ˜¯é€™æ¨£ï¼Œç‰ˆæœ¬æ§åˆ¶æˆ‘é€£èªæ„éƒ½ä¸æ‡‚ï¼Œä½†å…¶å¯¦ç”¨ä¾†å¾ˆæ–¹ä¾¿ä¹Ÿä¸ç°¡å–®(èª¤</p><p>æ‡‰è©²èªªè¦ç”¨çš„å¾ˆç†Ÿé€ï¼ŒçœŸçš„å¿…é ˆç·´ç¿’åŠ ä¸Šå¯¦ä½œã€‚</p><p>é‚£å®ƒåˆ°åº•æ˜¯ä»€éº¼å‘¢ï¼Ÿå…¶å¯¦å¯ä»¥æŠŠå®ƒæƒ³æˆç©éŠæˆ²åœ¨å­˜æª”ï¼ŒæŠŠä½ çš„æ–‡ä»¶å­˜æª”ï¼Œç„¶å¾Œæ¨åˆ°GitHub(Gitè·ŸGitHubä¸ä¸€æ¨£)ï¼Œä½ æ‡‰è©²å¯ä»¥æƒ³åƒï¼Œç•¶<br>ä½ è¦æ”¹æª”æ¡ˆï¼Œä½†åˆæ€•æ”¹ä¸‹å»çˆ†æ‰ï¼Œæ˜¯ä¸æ˜¯éƒ½æœƒæ‹·è²ä¸€ä»½ï¼Œç•¶ä½ çˆ†äº†åœ¨æ‹·è²ä¸€ä»½å°±å¥½äº†ï¼Œå¾ˆæ–¹ä¾¿å°å§ï¼Œç•¶ä½ å›éç¥æ™‚ï¼Œä½ å·²ç¶“æ‹·è²äº†20ä»½äº†ã€‚</p><p>é€™æ™‚å€™Gitçš„å¥½è™•å°±ä¾†äº†ï¼Œä½ å­˜æª”äº†ï¼Œpushä¸Šå»äº†ï¼Œæ”¹å£äº†ï¼Œåœ¨cloneä¸‹ä¾†å°±å¥½äº†ï¼Œè€Œä¸”æ¯æ¬¡ä¿®æ”¹çš„ç´€éŒ„ï¼Œéƒ½æœƒè¢«å­˜é€²å»ï¼Œå¯ä»¥çœ‹å‡ºä¾†é€™<br>æ®µcodeè·Ÿä¸Šæ®µå“ªè£¡æœ‰ä¸ä¸€æ¨£ã€‚</p><p>é›£å—ï¼Ÿåªè¦æœƒadd , commit , push å°±å¥½äº†å•Šï¼Œä½†ç•¶ä½ æƒ³åˆä½µåˆ†æ”¯ï¼Œåˆªé™¤åˆ†æ”¯ ï¼Œé€™äº›æŒ‡ä»¤ä¹Ÿæ˜¯å¿…é ˆè¨˜ä¸€ä¸‹çš„ã€‚<br><img src="https://pic1.xuehuaimg.com/proxy/csdn/https://img-blog.csdnimg.cn/20181205192850247.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3UwMTAzMTQxNjA=,size_16,color_FFFFFF,t_70" alt=""><br>ä¸Šé¢çš„èªªæ˜ï¼Œå¾ˆæ¸…æ¥šï¼Œç”¨è¬›çš„ç”¨èƒŒçš„ï¼Œä¸å¦‚å¯¦éš›æ“ä½œçœ‹çœ‹ã€‚</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;gitæ˜¯ä»€éº¼ï¼Ÿç‰ˆæœ¬æ§åˆ¶ï¼Ÿå°æ–¼ç¬¬ä¸€æ¬¡è½åˆ°çš„æˆ‘ï¼Œç‰ˆæœ¬æ§åˆ¶æ˜¯å•¥ï¼Ÿ&lt;/p&gt;
&lt;p&gt;æ²’éŒ¯ï¼Œå°±æ˜¯é€™æ¨£ï¼Œç‰ˆæœ¬æ§åˆ¶æˆ‘é€£èªæ„éƒ½ä¸æ‡‚ï¼Œä½†å…¶å¯¦ç”¨ä¾†å¾ˆæ–¹ä¾¿ä¹Ÿä¸ç°¡å–®(èª¤&lt;/p&gt;
&lt;p&gt;æ‡‰è©²èªªè¦ç”¨çš„å¾ˆç†Ÿé€ï¼ŒçœŸçš„å¿…é ˆç·´ç¿’åŠ ä¸Šå¯¦ä½œã€‚&lt;/p&gt;
&lt;p&gt;é‚£å®ƒåˆ°åº•æ˜¯ä»€éº¼å‘¢ï¼Ÿå…¶å¯¦å¯ä»¥æŠŠå®ƒæƒ³æˆç©éŠæˆ²åœ¨å­˜æª”ï¼ŒæŠŠä½ çš„æ–‡ä»¶
      
    
    </summary>
    
    
    
  </entry>
  
  <entry>
    <title>æ­èµ·ä¾†å•¦å•¦å•¦</title>
    <link href="http://www.willychang.com/2020/05/07/%E6%90%AD%E8%B5%B7%E4%BE%86%E5%95%A6%E5%95%A6%E5%95%A6/"/>
    <id>http://www.willychang.com/2020/05/07/%E6%90%AD%E8%B5%B7%E4%BE%86%E5%95%A6%E5%95%A6%E5%95%A6/</id>
    <published>2020-05-06T16:55:39.000Z</published>
    <updated>2020-05-06T16:58:37.830Z</updated>
    
    <content type="html"><![CDATA[<p>è¶è‘—æ¸…æ˜é€£å‡ï¼ŒåˆåŠ ä¸Šå‰›å¥½ç–«æƒ…çš„é—œä¿‚ï¼Œæ²’æœ‰å»æƒå¢“ã€‚</p><p><em>åˆåŠ ä¸Šç¾åœ¨äººå®¶èªªå»æƒå¢“ï¼Œåªæ˜¯æ›´æ—©è·Ÿå¢“è£¡çš„åœ˜å“¡ã€‚</em></p><p>æ‰€ä»¥è¶•å¿«æ­èµ·ä¾†ï¼Œä¸ç„¶æˆ‘çš„é›»è…¦è£¡æœ‰å¥½å¹¾å€‹blogæª”æ¡ˆï¼Œæ ¹æœ¬éƒ½è·Ÿæ–°çš„ä¸€æ¨£ï¼¸ï¼¤</p><p>é€™æ¬¡ç”¨Hexoä¾†æ­é…GitHub Pagesï¼Œé›–ç„¶åœ¨è£Hexoçš„æ™‚å€™èŠ±äº†ä¸€äº›æ™‚é–“ï¼Œ</p><p>å› ç‚ºHexoçš„æª”æ¡ˆä½ç½®ä¸å°ï¼Œæ‰€ä»¥ä¸ç®¡æ€æ¨£æˆ‘ä¸‹ <code>hexo init</code></p><p>éƒ½å¾—åˆ° <code>zsh: command not found: hexo</code></p><p>æœ€å¾Œè§£æ±ºè¾¦æ³•æ˜¯</p><p>#åˆªé™¤å®‰è£<br><code>yarn global remove hexo-cli</code><br>#é‡æ–°å®‰è£<br><code>yarn global add hexo-cli --prefix /usr/local</code></p><p>ä¹‹å¾Œå†åŸ·è¡Œ hexo å°±æœ‰äº†ã€‚</p><p>ä¸€ç›´éƒ½å¾ˆæƒ³æ­éƒ¨è½æ ¼èµ·ä¾†ï¼ŒåŠ ä¸Šé–‹å§‹å·¥ä½œçš„åŸå› (æ ¹æœ¬ä¸æ˜¯è—‰å£)<br>é²é²é‚„æ²’å‹•æ‰‹ï¼Œä½†ç™¼ä¸Šå¯¦åœ¨æœ‰å¤ªå¤šéœ€è¦å¯«ä¸‹ä¾†çš„ã€‚</p><p>ç•¢ç«Ÿèƒ½ç”¨åˆ¥äººçœ‹å¾—æ‡‚çš„è©±èªªæ˜å‡ºä¾†ï¼Œéƒ½æ˜¯ç¶“éè…¦å­æ€è€ƒçš„ï¼Œ<br>é›–ç„¶å•å•é¡Œå¾ˆé›£ï¼Œä½†æˆ‘ä¾èˆŠæŒçºŒå­¸ç¿’ä¸­å•¦å•¦å•¦å•¦å•¦</p><p>-W</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;è¶è‘—æ¸…æ˜é€£å‡ï¼ŒåˆåŠ ä¸Šå‰›å¥½ç–«æƒ…çš„é—œä¿‚ï¼Œæ²’æœ‰å»æƒå¢“ã€‚&lt;/p&gt;
&lt;p&gt;&lt;em&gt;åˆåŠ ä¸Šç¾åœ¨äººå®¶èªªå»æƒå¢“ï¼Œåªæ˜¯æ›´æ—©è·Ÿå¢“è£¡çš„åœ˜å“¡ã€‚&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;æ‰€ä»¥è¶•å¿«æ­èµ·ä¾†ï¼Œä¸ç„¶æˆ‘çš„é›»è…¦è£¡æœ‰å¥½å¹¾å€‹blogæª”æ¡ˆï¼Œæ ¹æœ¬éƒ½è·Ÿæ–°çš„ä¸€æ¨£ï¼¸ï¼¤&lt;/p&gt;
&lt;p&gt;é€™æ¬¡ç”¨Hexoä¾†æ­é…GitHub Page
      
    
    </summary>
    
    
    
  </entry>
  
</feed>
